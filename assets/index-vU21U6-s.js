(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},_l={};var k_;function AS(){if(k_)return _l;k_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var U_;function bS(){return U_||(U_=1,Id.exports=AS()),Id.exports}var W=bS(),Cd={exports:{}},vt={};var L_;function wS(){if(L_)return vt;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,K={};function et(V,X,it){this.props=V,this.context=X,this.refs=K,this.updater=it||$}et.prototype.isReactComponent={},et.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},et.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function lt(){}lt.prototype=et.prototype;function ut(V,X,it){this.props=V,this.context=X,this.refs=K,this.updater=it||$}var zt=ut.prototype=new lt;zt.constructor=ut,Q(zt,et.prototype),zt.isPureReactComponent=!0;var Xt=Array.isArray;function Mt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,X,it){var at=it.ref;return{$$typeof:r,type:V,key:X,ref:at!==void 0?at:null,props:it}}function x(V,X){return I(V.type,X,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return X[it]})}var w=/\/+/g;function qt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):X.toString(36)}function ue(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Mt,Mt):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,X,it,at,yt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var xt=!1;if(V===null)xt=!0;else switch(At){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(V.$$typeof){case r:case t:xt=!0;break;case S:return xt=V._init,F(xt(V._payload),X,it,at,yt)}}if(xt)return yt=yt(V),xt=at===""?"."+qt(V,0):at,Xt(yt)?(it="",xt!=null&&(it=xt.replace(w,"$&/")+"/"),F(yt,X,it,"",function(as){return as})):yt!=null&&(N(yt)&&(yt=x(yt,it+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+xt)),X.push(yt)),1;xt=0;var Ne=at===""?".":at+":";if(Xt(V))for(var se=0;se<V.length;se++)at=V[se],At=Ne+qt(at,se),xt+=F(at,X,it,At,yt);else if(se=q(V),typeof se=="function")for(V=se.call(V),se=0;!(at=V.next()).done;)at=at.value,At=Ne+qt(at,se++),xt+=F(at,X,it,At,yt);else if(At==="object"){if(typeof V.then=="function")return F(ue(V),X,it,at,yt);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xt}function nt(V,X,it){if(V==null)return V;var at=[],yt=0;return F(V,at,"","",function(At){return X.call(it,At,yt++)}),at}function dt(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:nt,forEach:function(V,X,it){nt(V,function(){X.apply(this,arguments)},it)},count:function(V){var X=0;return nt(V,function(){X++}),X},toArray:function(V){return nt(V,function(X){return X})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=A,vt.Children=Gt,vt.Component=et,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ut,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,X,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=Q({},V.props),yt=V.key;if(X!=null)for(At in X.key!==void 0&&(yt=""+X.key),X)!b.call(X,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&X.ref===void 0||(at[At]=X[At]);var At=arguments.length-2;if(At===1)at.children=it;else if(1<At){for(var xt=Array(At),Ne=0;Ne<At;Ne++)xt[Ne]=arguments[Ne+2];at.children=xt}return I(V.type,yt,at)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},vt.createElement=function(V,X,it){var at,yt={},At=null;if(X!=null)for(at in X.key!==void 0&&(At=""+X.key),X)b.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=X[at]);var xt=arguments.length-2;if(xt===1)yt.children=it;else if(1<xt){for(var Ne=Array(xt),se=0;se<xt;se++)Ne[se]=arguments[se+2];yt.children=Ne}if(V&&V.defaultProps)for(at in xt=V.defaultProps,xt)yt[at]===void 0&&(yt[at]=xt[at]);return I(V,At,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:g,render:V}},vt.isValidElement=N,vt.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:dt}},vt.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},vt.startTransition=function(V){var X=C.T,it={};C.T=it;try{var at=V(),yt=C.S;yt!==null&&yt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Mt,Ut)}catch(At){Ut(At)}finally{X!==null&&it.types!==null&&(X.types=it.types),C.T=X}},vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},vt.use=function(V){return C.H.use(V)},vt.useActionState=function(V,X,it){return C.H.useActionState(V,X,it)},vt.useCallback=function(V,X){return C.H.useCallback(V,X)},vt.useContext=function(V){return C.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,X){return C.H.useDeferredValue(V,X)},vt.useEffect=function(V,X){return C.H.useEffect(V,X)},vt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},vt.useId=function(){return C.H.useId()},vt.useImperativeHandle=function(V,X,it){return C.H.useImperativeHandle(V,X,it)},vt.useInsertionEffect=function(V,X){return C.H.useInsertionEffect(V,X)},vt.useLayoutEffect=function(V,X){return C.H.useLayoutEffect(V,X)},vt.useMemo=function(V,X){return C.H.useMemo(V,X)},vt.useOptimistic=function(V,X){return C.H.useOptimistic(V,X)},vt.useReducer=function(V,X,it){return C.H.useReducer(V,X,it)},vt.useRef=function(V){return C.H.useRef(V)},vt.useState=function(V){return C.H.useState(V)},vt.useSyncExternalStore=function(V,X,it){return C.H.useSyncExternalStore(V,X,it)},vt.useTransition=function(){return C.H.useTransition()},vt.version="19.2.3",vt}var P_;function Em(){return P_||(P_=1,Cd.exports=wS()),Cd.exports}var Ht=Em(),Dd={exports:{}},vl={},Nd={exports:{}},Od={};var z_;function RS(){return z_||(z_=1,(function(r){function t(F,nt){var dt=F.length;F.push(nt);t:for(;0<dt;){var Ut=dt-1>>>1,Gt=F[Ut];if(0<l(Gt,nt))F[Ut]=nt,F[dt]=Gt,dt=Ut;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var nt=F[0],dt=F.pop();if(dt!==nt){F[0]=dt;t:for(var Ut=0,Gt=F.length,V=Gt>>>1;Ut<V;){var X=2*(Ut+1)-1,it=F[X],at=X+1,yt=F[at];if(0>l(it,dt))at<Gt&&0>l(yt,it)?(F[Ut]=yt,F[at]=dt,Ut=at):(F[Ut]=it,F[X]=dt,Ut=X);else if(at<Gt&&0>l(yt,dt))F[Ut]=yt,F[at]=dt,Ut=at;else break t}}return nt}function l(F,nt){var dt=F.sortIndex-nt.sortIndex;return dt!==0?dt:F.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],S=1,A=null,D=3,q=!1,$=!1,Q=!1,K=!1,et=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function zt(F){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=F)a(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Xt(F){if(Q=!1,zt(F),!$)if(i(y)!==null)$=!0,Mt||(Mt=!0,M());else{var nt=i(_);nt!==null&&ue(Xt,nt.startTime-F)}}var Mt=!1,C=-1,b=5,I=-1;function x(){return K?!0:!(r.unstable_now()-I<b)}function N(){if(K=!1,Mt){var F=r.unstable_now();I=F;var nt=!0;try{t:{$=!1,Q&&(Q=!1,lt(C),C=-1),q=!0;var dt=D;try{e:{for(zt(F),A=i(y);A!==null&&!(A.expirationTime>F&&x());){var Ut=A.callback;if(typeof Ut=="function"){A.callback=null,D=A.priorityLevel;var Gt=Ut(A.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){A.callback=Gt,zt(F),nt=!0;break e}A===i(y)&&a(y),zt(F)}else a(y);A=i(y)}if(A!==null)nt=!0;else{var V=i(_);V!==null&&ue(Xt,V.startTime-F),nt=!1}}break t}finally{A=null,D=dt,q=!1}nt=void 0}}finally{nt?M():Mt=!1}}}var M;if(typeof ut=="function")M=function(){ut(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,qt=w.port2;w.port1.onmessage=N,M=function(){qt.postMessage(null)}}else M=function(){et(N,0)};function ue(F,nt){C=et(function(){F(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(F){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var dt=D;D=nt;try{return F()}finally{D=dt}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=D;D=F;try{return nt()}finally{D=dt}},r.unstable_scheduleCallback=function(F,nt,dt){var Ut=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Ut+dt:Ut):dt=Ut,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,F={id:S++,callback:nt,priorityLevel:F,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>Ut?(F.sortIndex=dt,t(_,F),i(y)===null&&F===i(_)&&(Q?(lt(C),C=-1):Q=!0,ue(Xt,dt-Ut))):(F.sortIndex=Gt,t(y,F),$||q||($=!0,Mt||(Mt=!0,M()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var nt=D;return function(){var dt=D;D=nt;try{return F.apply(this,arguments)}finally{D=dt}}}})(Od)),Od}var B_;function IS(){return B_||(B_=1,Nd.exports=RS()),Nd.exports}var Md={exports:{}},Xe={};var j_;function CS(){if(j_)return Xe;j_=1;var r=Em();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Xe.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,A=g(S,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:q}):S==="script"&&a.d.X(y,{crossOrigin:A,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=g(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Xe.requestFormReset=function(y){a.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var q_;function DS(){if(q_)return Md.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=CS(),Md.exports}var H_;function NS(){if(H_)return vl;H_=1;var r=IS(),t=Em(),i=DS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),Xt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case et:return"Profiler";case K:return"StrictMode";case Xt:return"Suspense";case Mt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ut:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:qt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return qt(e(n))}catch{}}return null}var ue=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Ut=[],Gt=-1;function V(e){return{current:e}}function X(e){0>Gt||(e.current=Ut[Gt],Ut[Gt]=null,Gt--)}function it(e,n){Gt++,Ut[Gt]=e.current,e.current=n}var at=V(null),yt=V(null),At=V(null),xt=V(null);function Ne(e,n){switch(it(At,n),it(yt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function se(){X(at),X(yt),X(At)}function as(e){e.memoizedState!==null&&it(xt,e);var n=at.current,s=s_(n,e.type);n!==s&&(it(yt,e),it(at,s))}function Js(e){yt.current===e&&(X(at),X(yt)),xt.current===e&&(X(xt),ml._currentValue=dt)}var Zs,$s;function Wn(e){if(Zs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zs=n&&n[1]||"",$s=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+$s}var mo=!1;function os(e,n){if(!e||mo)return"";mo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var z=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){z=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){z=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{mo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function go(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return os(e.type,!1);case 11:return os(e.type.render,!1);case 1:return os(e.type,!0);case 31:return Wn("Activity");default:return""}}function po(e){try{var n="",s=null;do n+=go(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,sr=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,$l=r.unstable_requestPaint,tn=r.unstable_now,ls=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,tu=r.log,eu=r.unstable_setDisableYieldValue,Pn=null,Pe=null;function An(e){if(typeof tu=="function"&&eu(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:iu,nu=Math.log,Ws=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/Ws|0)|0}var ti=256,us=262144,_e=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(p&=E,p!==0?h=ei(p):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=o&~f,E!==0?h=ei(E):p!==0?h=ei(p):s||(s=o&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function cs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var H=31-fe(s),Y=1<<H;E[H]=0,R[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}s&=~Y}o!==0&&hs(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function hs(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-fe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-fe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:fs(s),(s&(e.suspendedLanes|n))!==0?0:s}function fs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function Bn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,xe="__reactProps$"+jn,ri="__reactContainer$"+jn,ta="__reactEvents$"+jn,Mh="__reactListeners$"+jn,au="__reactHandles$"+jn,ou="__reactResources$"+jn,si="__reactMarker$"+jn;function ea(e){delete e[ve],delete e[xe],delete e[ta],delete e[Mh],delete e[au]}function ai(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ri]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=f_(e);e!==null;){if(s=e[ve])return s;e=f_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[ve]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[si]=!0}var To=new Set,So={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(So[e]=n,e=0;e<n.length;e++)To.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},wo={};function lu(e){return ye.call(wo,e)?!0:ye.call(bo,e)?!1:Ao.test(e)?wo[e]=!0:(bo[e]=!0,!1)}function na(e,n,s){if(lu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function or(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=or(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function ds(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=or(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ms=/[\n"\\]/g;function rn(e){return e.replace(ms,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Io(e,p,ke(n)):s!=null?Io(e,p,ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function uu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function Io(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function lr(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function ur(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(ue(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Do(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return cr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var No=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,hi=null;function gs(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[xe]||null;if(!h)throw Error(a(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ds(o)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&lr(e,!!s.multiple,n,!1)}}}var aa=!1;function fr(e,n,s){if(aa)return e(n,s);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(hr!==null||hi!==null)&&(sc(),hr&&(n=hr,e=hi,hi=hr=null,gs(n),e)))for(n=0;n<e.length;n++)gs(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[xe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(Rn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{ps=!1}var fi=null,Oo=null,ys=null;function Mo(){if(ys)return ys;var e,n=Oo,s=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return ys=h.slice(e,1<o?1-o:void 0)}function _s(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Fn(){return!1}function ze(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(Vi),dr=A({},Vi,{view:0,detail:0}),Vo=ze(dr),mr,oa,mi,la=A({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(mr=e.screenX-mi.screenX,oa=e.screenY-mi.screenY):oa=mr=0,mi=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),xo=ze(la),vs=A({},la,{dataTransfer:0}),du=ze(vs),mu=A({},dr,{relatedTarget:0}),Es=ze(mu),ko=A({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=ze(ko),ua=A({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=ze(ua),yu=A({},Vi,{data:0}),gi=ze(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function gr(){return Tu}var en=A({},dr,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=ze(en),Au=A({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=ze(Au),u=A({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=ze(u),v=A({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),U=A({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(U),tt=A({},Vi,{newState:0,oldState:0}),Tt=ze(tt),de=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var In=Rn&&"TextEvent"in window&&!ae,pi=Rn&&(!Bt||ae&&8<ae&&11>=ae),Gn=" ",Qn=!1;function Ts(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function KT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Qn?null:e;default:return null}}function YT(e,n){if(ha)return e==="compositionend"||!Bt&&Ts(e,n)?(e=Mo(),ys=Oo=fi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!XT[e.type]:n==="textarea"}function pg(e,n,s,o){hr?hi?hi.push(o):hi=[o]:hr=o,n=fc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,Lo=null;function JT(e){$y(e,0)}function bu(e){var n=dn(e);if(ds(n))return e}function yg(e,n){if(e==="change")return n}var _g=!1;if(Rn){var Vh;if(Rn){var xh="oninput"in document;if(!xh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),xh=typeof vg.oninput=="function"}Vh=xh}else Vh=!1;_g=Vh&&(!document.documentMode||9<document.documentMode)}function Eg(){Uo&&(Uo.detachEvent("onpropertychange",Tg),Lo=Uo=null)}function Tg(e){if(e.propertyName==="value"&&bu(Lo)){var n=[];pg(n,Lo,e,wn(e)),fr(JT,n)}}function ZT(e,n,s){e==="focusin"?(Eg(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",Tg)):e==="focusout"&&Eg()}function $T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Lo)}function WT(e,n){if(e==="click")return bu(n)}function t1(e,n){if(e==="input"||e==="change")return bu(n)}function e1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:e1;function Po(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ag(e,n){var s=Sg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Sg(s)}}function bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var n1=Rn&&"documentMode"in document&&11>=document.documentMode,fa=null,Uh=null,zo=null,Lh=!1;function Rg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||fa==null||fa!==ci(o)||(o=fa,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=fc(Uh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=fa)))}function Ss(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Ph={},Ig={};Rn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function As(e){if(Ph[e])return Ph[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ig)return Ph[e]=n[s];return e}var Cg=As("animationend"),Dg=As("animationiteration"),Ng=As("animationstart"),i1=As("transitionrun"),r1=As("transitionstart"),s1=As("transitioncancel"),Og=As("transitionend"),Mg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Kn(e,n){Mg.set(e,n),li(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ma=0,Bh=0;function Ru(){for(var e=ma,n=Bh=ma=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Vg(s,h,f)}}function Iu(e,n,s,o){Cn[ma++]=e,Cn[ma++]=n,Cn[ma++]=s,Cn[ma++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jh(e,n,s,o){return Iu(e,n,s,o),Cu(e)}function bs(e,n){return Iu(e,null,null,n),Cu(e)}function Vg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Cu(e){if(50<ol)throw ol=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function a1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,o){return new a1(e,n,s,o)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function xg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")qh(e)&&(p=1);else if(typeof e=="string")p=hS(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,s,n,h),e.elementType=I,e.lanes=f,e;case Q:return ws(s.children,h,f,n);case K:p=8,h|=24;break;case et:return e=pn(12,s,n,h|2),e.elementType=et,e.lanes=f,e;case Xt:return e=pn(13,s,n,h),e.elementType=Xt,e.lanes=f,e;case Mt:return e=pn(19,s,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:p=10;break t;case lt:p=9;break t;case zt:p=11;break t;case C:p=14;break t;case b:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ws(e,n,s,o){return e=pn(7,e,o,n),e.lanes=s,e}function Hh(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function kg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ug=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=Ug.get(e);return s!==void 0?s:(n={value:e,source:n,stack:po(n)},Ug.set(e,n),n)}return{value:e,source:n,stack:po(n)}}var pa=[],ya=0,Nu=null,Bo=0,Nn=[],On=0,pr=null,yi=1,_i="";function Ui(e,n){pa[ya++]=Bo,pa[ya++]=Nu,Nu=e,Bo=n}function Lg(e,n,s){Nn[On++]=yi,Nn[On++]=_i,Nn[On++]=pr,pr=e;var o=yi;e=_i;var h=32-fe(o)-1;o&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,yi=1<<32-fe(n)+h|s<<h|o,_i=f+e}else yi=1<<f|s<<h|o,_i=e}function Gh(e){e.return!==null&&(Ui(e,1),Lg(e,1,0))}function Qh(e){for(;e===Nu;)Nu=pa[--ya],pa[ya]=null,Bo=pa[--ya],pa[ya]=null;for(;e===pr;)pr=Nn[--On],Nn[On]=null,_i=Nn[--On],Nn[On]=null,yi=Nn[--On],Nn[On]=null}function Pg(e,n){Nn[On++]=yi,Nn[On++]=_i,Nn[On++]=pr,yi=n.id,_i=n.overflow,pr=e}var Be=null,ne=null,Vt=!1,yr=null,Mn=!1,Kh=Error(a(519));function _r(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(Dn(n,e)),Kh}function zg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[xe]=o,s){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Rt(ul[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),ur(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||n_(n.textContent,s)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_r(e,!0)}function Bg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function _a(e){if(e!==Be)return!1;if(!Vt)return Bg(e),Vt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ne&&_r(e),Bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=h_(e)}else n===27?(n=ne,Mr(e.type)?(e=yd,yd=null,ne=e):ne=n):ne=Be?xn(e.stateNode.nextSibling):null;return!0}function Rs(){ne=Be=null,Vt=!1}function Yh(){var e=yr;return e!==null&&(un===null?un=e:un.push.apply(un,e),yr=null),e}function jo(e){yr===null?yr=[e]:yr.push(e)}var Xh=V(null),Is=null,Li=null;function vr(e,n,s){it(Xh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Xh.current,X(Xh)}function Jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Jh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function va(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===xt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&Zh(n,e,s,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cs(e){Is=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return jg(Is,e)}function Mu(e,n){return Is===null&&Cs(e),jg(e,n)}function jg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var o1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},l1=r.unstable_scheduleCallback,u1=r.unstable_NormalPriority,Se={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new o1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&l1(u1,function(){e.controller.abort()})}var Ho=null,Wh=0,Ea=0,Ta=null;function c1(e,n){if(Ho===null){var s=Ho=[];Wh=0,Ea=id(),Ta={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(qg,qg),n}function qg(){if(--Wh===0&&Ho!==null){Ta!==null&&(Ta.status="fulfilled");var e=Ho;Ho=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function h1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hg=F.S;F.S=function(e,n){Ry=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&c1(e,n),Hg!==null&&Hg(e,n)};var Ds=V(null);function tf(){var e=Ds.current;return e!==null?e:te.pooledCache}function Vu(e,n){n===null?it(Ds,Ds.current):it(Ds,n.pool)}function Fg(){var e=tf();return e===null?null:{parent:Se._currentValue,pool:e}}var Sa=Error(a(460)),ef=Error(a(474)),xu=Error(a(542)),ku={then:function(){}};function Gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e}throw Os=n,Sa}}function Ns(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Os=s,Sa):s}}var Os=null;function Kg(){if(Os===null)throw Error(a(459));var e=Os;return Os=null,e}function Yg(e){if(e===Sa||e===xu)throw Error(a(483))}var Aa=null,Fo=0;function Uu(e){var n=Fo;return Fo+=1,Aa===null&&(Aa=[]),Qg(Aa,e,n)}function Go(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xg(e){function n(k,O){if(e){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=ki(k,O),k.index=0,k.sibling=null,k}function f(k,O,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=67108866,O):L):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,L,G){return O===null||O.tag!==6?(O=Hh(L,k.mode,G),O.return=k,O):(O=h(O,L),O.return=k,O)}function R(k,O,L,G){var ht=L.type;return ht===Q?H(k,O,L.props.children,G,L.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ns(ht)===O.type)?(O=h(O,L.props),Go(O,L),O.return=k,O):(O=Du(L.type,L.key,L.props,null,k.mode,G),Go(O,L),O.return=k,O)}function P(k,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Fh(L,k.mode,G),O.return=k,O):(O=h(O,L.children||[]),O.return=k,O)}function H(k,O,L,G,ht){return O===null||O.tag!==7?(O=ws(L,k.mode,G,ht),O.return=k,O):(O=h(O,L),O.return=k,O)}function Y(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Hh(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case q:return L=Du(O.type,O.key,O.props,null,k.mode,L),Go(L,O),L.return=k,L;case $:return O=Fh(O,k.mode,L),O.return=k,O;case b:return O=Ns(O),Y(k,O,L)}if(ue(O)||M(O))return O=ws(O,k.mode,L,null),O.return=k,O;if(typeof O.then=="function")return Y(k,Uu(O),L);if(O.$$typeof===ut)return Y(k,Mu(k,O),L);Lu(k,O)}return null}function z(k,O,L,G){var ht=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(k,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===ht?R(k,O,L,G):null;case $:return L.key===ht?P(k,O,L,G):null;case b:return L=Ns(L),z(k,O,L,G)}if(ue(L)||M(L))return ht!==null?null:H(k,O,L,G,null);if(typeof L.then=="function")return z(k,O,Uu(L),G);if(L.$$typeof===ut)return z(k,O,Mu(k,L),G);Lu(k,L)}return null}function j(k,O,L,G,ht){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(L)||null,E(O,k,""+G,ht);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return k=k.get(G.key===null?L:G.key)||null,R(O,k,G,ht);case $:return k=k.get(G.key===null?L:G.key)||null,P(O,k,G,ht);case b:return G=Ns(G),j(k,O,L,G,ht)}if(ue(G)||M(G))return k=k.get(L)||null,H(O,k,G,ht,null);if(typeof G.then=="function")return j(k,O,L,Uu(G),ht);if(G.$$typeof===ut)return j(k,O,L,Mu(O,G),ht);Lu(O,G)}return null}function ot(k,O,L,G){for(var ht=null,Lt=null,ct=O,bt=O=0,Ct=null;ct!==null&&bt<L.length;bt++){ct.index>bt?(Ct=ct,ct=null):Ct=ct.sibling;var Pt=z(k,ct,L[bt],G);if(Pt===null){ct===null&&(ct=Ct);break}e&&ct&&Pt.alternate===null&&n(k,ct),O=f(Pt,O,bt),Lt===null?ht=Pt:Lt.sibling=Pt,Lt=Pt,ct=Ct}if(bt===L.length)return s(k,ct),Vt&&Ui(k,bt),ht;if(ct===null){for(;bt<L.length;bt++)ct=Y(k,L[bt],G),ct!==null&&(O=f(ct,O,bt),Lt===null?ht=ct:Lt.sibling=ct,Lt=ct);return Vt&&Ui(k,bt),ht}for(ct=o(ct);bt<L.length;bt++)Ct=j(ct,k,bt,L[bt],G),Ct!==null&&(e&&Ct.alternate!==null&&ct.delete(Ct.key===null?bt:Ct.key),O=f(Ct,O,bt),Lt===null?ht=Ct:Lt.sibling=Ct,Lt=Ct);return e&&ct.forEach(function(Lr){return n(k,Lr)}),Vt&&Ui(k,bt),ht}function mt(k,O,L,G){if(L==null)throw Error(a(151));for(var ht=null,Lt=null,ct=O,bt=O=0,Ct=null,Pt=L.next();ct!==null&&!Pt.done;bt++,Pt=L.next()){ct.index>bt?(Ct=ct,ct=null):Ct=ct.sibling;var Lr=z(k,ct,Pt.value,G);if(Lr===null){ct===null&&(ct=Ct);break}e&&ct&&Lr.alternate===null&&n(k,ct),O=f(Lr,O,bt),Lt===null?ht=Lr:Lt.sibling=Lr,Lt=Lr,ct=Ct}if(Pt.done)return s(k,ct),Vt&&Ui(k,bt),ht;if(ct===null){for(;!Pt.done;bt++,Pt=L.next())Pt=Y(k,Pt.value,G),Pt!==null&&(O=f(Pt,O,bt),Lt===null?ht=Pt:Lt.sibling=Pt,Lt=Pt);return Vt&&Ui(k,bt),ht}for(ct=o(ct);!Pt.done;bt++,Pt=L.next())Pt=j(ct,k,bt,Pt.value,G),Pt!==null&&(e&&Pt.alternate!==null&&ct.delete(Pt.key===null?bt:Pt.key),O=f(Pt,O,bt),Lt===null?ht=Pt:Lt.sibling=Pt,Lt=Pt);return e&&ct.forEach(function(SS){return n(k,SS)}),Vt&&Ui(k,bt),ht}function Wt(k,O,L,G){if(typeof L=="object"&&L!==null&&L.type===Q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var ht=L.key;O!==null;){if(O.key===ht){if(ht=L.type,ht===Q){if(O.tag===7){s(k,O.sibling),G=h(O,L.props.children),G.return=k,k=G;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ns(ht)===O.type){s(k,O.sibling),G=h(O,L.props),Go(G,L),G.return=k,k=G;break t}s(k,O);break}else n(k,O);O=O.sibling}L.type===Q?(G=ws(L.props.children,k.mode,G,L.key),G.return=k,k=G):(G=Du(L.type,L.key,L.props,null,k.mode,G),Go(G,L),G.return=k,k=G)}return p(k);case $:t:{for(ht=L.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(k,O.sibling),G=h(O,L.children||[]),G.return=k,k=G;break t}else{s(k,O);break}else n(k,O);O=O.sibling}G=Fh(L,k.mode,G),G.return=k,k=G}return p(k);case b:return L=Ns(L),Wt(k,O,L,G)}if(ue(L))return ot(k,O,L,G);if(M(L)){if(ht=M(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),mt(k,O,L,G)}if(typeof L.then=="function")return Wt(k,O,Uu(L),G);if(L.$$typeof===ut)return Wt(k,O,Mu(k,L),G);Lu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(k,O.sibling),G=h(O,L),G.return=k,k=G):(s(k,O),G=Hh(L,k.mode,G),G.return=k,k=G),p(k)):s(k,O)}return function(k,O,L,G){try{Fo=0;var ht=Wt(k,O,L,G);return Aa=null,ht}catch(ct){if(ct===Sa||ct===xu)throw ct;var Lt=pn(29,ct,null,k.mode);return Lt.lanes=G,Lt.return=k,Lt}}}var Ms=Xg(!0),Jg=Xg(!1),Er=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Vg(e,null,s),n}return Iu(e,o,n,s),Cu(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function sf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Ko(){if(af){var e=Ta;if(e!==null)throw e}}function Yo(e,n,s,o){af=!1;var h=e.updateQueue;Er=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==p&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;p=0,H=P=R=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(It&z)===z:(o&z)===z){z!==0&&z===Ea&&(af=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,mt=E;z=n;var Wt=s;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){Y=ot.call(Wt,Y,z);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,z=typeof ot=="function"?ot.call(Wt,Y,z):ot,z==null)break t;Y=A({},Y,z);break t;case 2:Er=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,R=Y):H=H.next=j,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);H===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Ir|=p,e.lanes=p,e.memoizedState=Y}}function Zg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Zg(s[e],n)}var ba=V(null),Pu=V(0);function Wg(e,n){e=Ki,it(Pu,e),it(ba,n),Ki=e|n.baseLanes}function of(){it(Pu,Ki),it(ba,ba.current)}function lf(){Ki=Pu.current,X(ba),X(Pu)}var yn=V(null),Vn=null;function Ar(e){var n=e.alternate;it(me,me.current&1),it(yn,e),Vn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Vn=e)}function uf(e){it(me,me.current),it(yn,e),Vn===null&&(Vn=e)}function tp(e){e.tag===22?(it(me,me.current),it(yn,e),Vn===null&&(Vn=e)):br()}function br(){it(me,me.current),it(yn,yn.current)}function _n(e){X(yn),Vn===e&&(Vn=null),X(me)}var me=V(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,St=null,Zt=null,Ae=null,Bu=!1,wa=!1,Vs=!1,ju=0,Xo=0,Ra=null,f1=0;function ce(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function hf(e,n,s,o,h,f){return zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Lp:Rf,Vs=!1,f=s(o,h),Vs=!1,wa&&(f=np(n,s,o,h)),ep(e),f}function ep(e){F.H=$o;var n=Zt!==null&&Zt.next!==null;if(zi=0,Ae=Zt=St=null,Bu=!1,Xo=0,Ra=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Ou(e)&&(be=!0))}function np(e,n,s,o){St=e;var h=0;do{if(wa&&(Ra=null),Xo=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Pp,f=n(s,o)}while(wa);return f}function d1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function ff(){var e=ju!==0;return ju=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}zi=0,Ae=Zt=St=null,wa=!1,Xo=ju=0,Ra=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Xo;return Xo+=1,Ra===null&&(Ra=[]),e=Qg(Ra,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Lp:Rf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===ut)return je(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Bi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=ge();return pf(n,Zt,e)}function pf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,P=n,H=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(It&Y)===Y:(zi&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ea&&(H=!0);else if((zi&z)===z){P=P.next,z===Ea&&(H=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=Y,p=f):R=R.next=Y,St.lanes|=z,Ir|=z;Y=P.action,Vs&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,p=f):R=R.next=z,St.lanes|=Y,Ir|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=E,!gn(f,e.memoizedState)&&(be=!0,H&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ip(e,n,s){var o=St,h=ge(),f=Vt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!gn((Zt||h).memoizedState,s);if(p&&(h.memoizedState=s,be=!0),h=h.queue,Ef(ap.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},sp.bind(null,o,h,s,n),null),te===null)throw Error(a(349));f||(zi&127)!==0||rp(o,n,s)}return s}function rp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=qu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function sp(e,n,s,o){n.value=s,n.getSnapshot=o,op(n)&&lp(e)}function ap(e,n,s){return s(function(){op(n)&&lp(e)})}function op(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function lp(e){var n=bs(e,2);n!==null&&cn(n,e,2)}function _f(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Vs){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function up(e,n,s,o){return e.baseState=s,pf(e,Zt,typeof o=="function"?o:Bi)}function m1(e,n,s,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,cp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function cp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(h,o),R=F.S;R!==null&&R(p,E),hp(e,n,E)}catch(P){vf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,o),hp(e,n,f)}catch(P){vf(e,n,P)}}function hp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){fp(e,n,o)},function(o){return vf(e,n,o)}):fp(e,n,s)}function fp(e,n,s){n.status="fulfilled",n.value=s,dp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,cp(e,s)))}function vf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,dp(n),n=n.next;while(n!==o)}e.action=null}function dp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mp(e,n){return n}function gp(e,n){if(Vt){var s=te.formState;if(s!==null){t:{var o=St;if(Vt){if(ne){e:{for(var h=ne,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=xn(h.nextSibling),o=h.data==="F!";break t}}_r(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},s.queue=o,s=xp.bind(null,St,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,St,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=m1.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function pp(e){var n=ge();return yp(n,Zt,e)}function yp(e,n,s){if(n=pf(e,n,mp)[0],e=Fu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(p){throw p===Sa?xu:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ia(9,{destroy:void 0},g1.bind(null,h,s),null)),[o,f,e]}function g1(e,n){e.action=n}function _p(e){var n=ge(),s=Zt;if(s!==null)return yp(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=qu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function vp(){return ge().memoizedState}function Gu(e,n,s,o){var h=nn();St.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function Qu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&cf(o,Zt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(St.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function Ep(e,n){Gu(8390656,8,e,n)}function Ef(e,n){Qu(2048,8,e,n)}function p1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=qu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Tp(e){var n=ge().memoizedState;return p1({ref:n,nextImpl:e}),function(){if((jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sp(e,n){return Qu(4,2,e,n)}function Ap(e,n){return Qu(4,4,e,n)}function bp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wp(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,bp.bind(null,n,e),s)}function Tf(){}function Rp(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ip(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=e(),Vs){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(zi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Cy(),St.lanes|=e,Ir|=e,s)}function Cp(e,n,s,o){return gn(s,n)?s:ba.current!==null?(e=Sf(e,s,o),gn(e,n)||(be=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(It&261930)===0?(be=!0,e.memoizedState=s):(e=Cy(),St.lanes|=e,Ir|=e,n)}function Dp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,wf(e,!1,n,s);try{var R=h(),P=F.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=h1(R,o);Zo(e,n,H,Tn(e))}else Zo(e,n,o,Tn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function y1(){}function Af(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Np(e).queue;Dp(e,h,n,dt,s===null?y1:function(){return Op(e),s(o)})}function Np(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Op(e){var n=Np(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Tn())}function bf(){return je(ml)}function Mp(){return ge().memoizedState}function Vp(){return ge().memoizedState}function _1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Tr(s);var o=Sr(n,e,s);o!==null&&(cn(o,n,s),Qo(o,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function v1(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?kp(n,s):(s=jh(e,n,s,o),s!==null&&(cn(s,e,o),Up(s,n,o)))}function xp(e,n,s){var o=Tn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))kp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,gn(E,p))return Iu(e,n,h,0),te===null&&Ru(),!1}catch{}if(s=jh(e,n,h,o),s!==null)return cn(s,e,o),Up(s,n,o),!0}return!1}function wf(e,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=jh(e,s,o,2),n!==null&&cn(n,e,2)}function Ku(e){var n=e.alternate;return e===St||n!==null&&n===St}function kp(e,n){wa=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Up(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var $o={readContext:je,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};$o.useEffectEvent=ce;var Lp={readContext:je,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Ep,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,bp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(Vs){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Vs){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=v1.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=xp.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=nn();return Sf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Dp.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=nn();if(Vt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(It&127)!==0||rp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ep(ap.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},sp.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=te.identifierPrefix;if(Vt){var s=_i,o=yi;s=(o&~(1<<32-fe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ju++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=f1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:gp,useActionState:gp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return nn().memoizedState=_1.bind(null,St)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:je,use:Hu,useCallback:Rp,useContext:je,useEffect:Ef,useImperativeHandle:wp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Ip,useReducer:Fu,useRef:vp,useState:function(){return Fu(Bi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return Cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Fu(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ip,useId:Mp,useHostTransitionStatus:bf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var s=ge();return up(s,Zt,e,n)},useMemoCache:gf,useCacheRefresh:Vp};Rf.useEffectEvent=Tp;var Pp={readContext:je,use:Hu,useCallback:Rp,useContext:je,useEffect:Ef,useImperativeHandle:wp,useInsertionEffect:Sp,useLayoutEffect:Ap,useMemo:Ip,useReducer:yf,useRef:vp,useState:function(){return yf(Bi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ge();return Zt===null?Sf(s,e,n):Cp(s,Zt.memoizedState,e,n)},useTransition:function(){var e=yf(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:ip,useId:Mp,useHostTransitionStatus:bf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var s=ge();return Zt!==null?up(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Vp};Pp.useEffectEvent=Tp;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Tr(o);h.payload=n,s!=null&&(h.callback=s),n=Sr(e,h,o),n!==null&&(cn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Tr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Sr(e,h,o),n!==null&&(cn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Tr(s);o.tag=2,n!=null&&(o.callback=n),n=Sr(e,o,s),n!==null&&(cn(n,e,s),Qo(n,e,s))}};function zp(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function Bp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function xs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function jp(e){wu(e)}function qp(e){console.error(e)}function Hp(e){wu(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,s){return s=Tr(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function Gp(e){return e=Tr(e),e.tag=3,e}function Qp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Fp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Fp(n,s,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function E1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?ac():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),td(e,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),td(e,o,h)),!1}throw Error(a(435,s.tag))}return td(e,o,h),ac(),!1}if(Vt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),jo(Dn(e,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),jo(Dn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,s),h=Df(e.stateNode,o,h),sf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=Dn(f,s),al===null?al=[f]:al.push(f),he!==4&&(he=2),n===null)return!0;o=Dn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Df(s.stateNode,o,e),sf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gp(h),Qp(h,e,s,o),sf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),be=!1;function qe(e,n,s,o){n.child=e===null?Jg(n,null,s,o):Ms(n,e.child,s,o)}function Kp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Cs(n),o=hf(e,n,s,p,f,h),E=ff(),e!==null&&!be?(df(e,n,h),ji(e,n,h)):(Vt&&E&&Gh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Yp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Xp(e,n,f,o,h)):(e=Du(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(p,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,Pf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Of(e,n,s,o,h)}function Jp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):of(),tp(n);else return o=n.lanes=536870912,Zp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),Wg(n,f),br(),n.memoizedState=null):(e!==null&&Vu(n,null),of(),br());return qe(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(e,n,s,o,h){var f=tf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),of(),tp(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,s){return Ms(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function T1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,Wo(null,e);if(uf(n),(e=ne)?(e=c_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=kg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw _r(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||va(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(o=te,o!==null&&(p=Eo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,bs(e,p),cn(o,e,p),Nf;ac(),n=$p(e,n,s)}else e=f.treeContext,ne=xn(p.nextSibling),Be=n,Vt=!0,yr=null,Mn=!1,e!==null&&Pg(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,o,h){return Cs(n),s=hf(e,n,s,o,void 0,h),o=ff(),e!==null&&!be?(df(e,n,h),ji(e,n,h)):(Vt&&o&&Gh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Wp(e,n,s,o,h,f){return Cs(n),n.updateQueue=null,s=np(n,o,s,h),ep(e),o=ff(),e!==null&&!be?(df(e,n,f),ji(e,n,f)):(Vt&&o&&Gh(n),n.flags|=1,qe(e,n,s,f),n.child)}function ty(e,n,s,o,h){if(Cs(n),n.stateNode===null){var f=ga,p=s.contextType;typeof p=="object"&&p!==null&&(f=je(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?je(p):ga,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(If(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=xs(s,E);f.props=R;var P=f.context,H=s.contextType;p=ga,typeof H=="object"&&H!==null&&(p=je(H));var Y=s.getDerivedStateFromProps;H=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Bp(n,f,o,p),Er=!1;var z=n.memoizedState;f.state=z,Yo(n,o,f,h),Ko(),P=n.memoizedState,E||z!==P||Er?(typeof Y=="function"&&(If(n,s,Y,o),P=n.memoizedState),(R=Er||zp(n,s,R,o,z,P,p))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),p=n.memoizedProps,H=xs(s,p),f.props=H,Y=n.pendingProps,z=f.context,P=s.contextType,R=ga,typeof P=="object"&&P!==null&&(R=je(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==R)&&Bp(n,f,o,R),Er=!1,z=n.memoizedState,f.state=z,Yo(n,o,f,h),Ko();var j=n.memoizedState;p!==Y||z!==j||Er||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(If(n,s,E,o),j=n.memoizedState),(H=Er||zp(n,s,H,o,z,j,R)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ms(n,e.child,null,h),n.child=Ms(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function ey(e,n,s,o){return Rs(),n.flags|=256,qe(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:Fg()}}function xf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function ny(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Ar(n):br(),(e=ne)?(e=c_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=kg(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw _r(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(br(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=ws(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(s),o.childLanes=xf(e,p,s),n.memoizedState=Mf,Wo(null,o)):(Ar(n),kf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(br(),n.child=e.child,n.flags|=128,n=null):(br(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=ws(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ms(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=xf(e,p,s),n.memoizedState=Mf,n=Wo(null,o));else if(Ar(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,jo({value:o,source:null,stack:null}),n=Uf(e,n,s)}else if(be||va(e,n,s,!1),p=(s&e.childLanes)!==0,be||p){if(p=te,p!==null&&(o=Eo(p,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,bs(e,o),cn(p,e,o),Nf;gd(E)||ac(),n=Uf(e,n,s)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ne=xn(E.nextSibling),Be=n,Vt=!0,yr=null,Mn=!1,e!==null&&Pg(n,e),n=kf(n,o.children),n.flags|=4096);return n}return h?(br(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=ki(P,E):(E=ws(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Wo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(R=Se._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Fg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=xf(e,p,s),n.memoizedState=Mf,Wo(e.child,o)):(Ar(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Ms(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,s)}function Lf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ry(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=me.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(me,p),qe(e,n,o,s),o=Vt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,s,n);else if(e.tag===19)iy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,o);break;case"together":Lf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ir|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function S1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),vr(n,Se,e.memoizedState.cache),Rs();break;case 27:case 5:as(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:vr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ny(e,n,s):(Ar(n),e=ji(e,n,s),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(va(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ry(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(me,me.current),o)break;return null;case 22:return n.lanes=0,Jp(e,n,s,n.pendingProps);case 24:vr(n,Se,e.memoizedState.cache)}return ji(e,n,s)}function sy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return be=!1,S1(e,n,s);be=(e.flags&131072)!==0}else be=!1,Vt&&(n.flags&1048576)!==0&&Lg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ns(n.elementType),n.type=e,typeof e=="function")qh(e)?(o=xs(e,o),n.tag=1,n=ty(null,n,e,o,s)):(n.tag=0,n=Of(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===zt){n.tag=11,n=Kp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Yp(null,n,e,o,s);break t}}throw n=qt(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=xs(o,n.pendingProps),ty(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Yo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,vr(n,Se,o),o!==f.cache&&Zh(n,[Se],s,!0),Ko(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,s);break t}else if(o!==h){h=Dn(Error(a(424)),n),jo(h),n=ey(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=xn(e.firstChild),Be=n,Vt=!0,yr=null,Mn=!0,s=Jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rs(),o===h){n=ji(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Ju(e,n),e===null?(s=p_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Vt||(s=n.type,e=n.pendingProps,o=dc(At.current).createElement(s),o[ve]=n,o[xe]=e,He(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return as(n),e===null&&Vt&&(o=n.stateNode=d_(n.type,n.pendingProps,At.current),Be=n,Mn=!0,h=ne,Mr(n.type)?(yd=h,ne=xn(o.firstChild)):ne=h),qe(e,n,n.pendingProps.children,s),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ne)&&(o=$1(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Be=n,ne=xn(o.firstChild),Mn=!1,h=!0):h=!1),h||_r(n)),as(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,fd(h,f)?o=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,d1,null,null,s),ml._currentValue=h),Ju(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&Vt&&((e=s=ne)&&(s=W1(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||_r(n)),null;case 13:return ny(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ms(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Kp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,vr(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cs(n),h=je(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Yp(e,n,n.type,n.pendingProps,s);case 15:return Xp(e,n,n.type,n.pendingProps,s);case 19:return ry(e,n,s);case 31:return T1(e,n,s);case 22:return Jp(e,n,s,n.pendingProps);case 24:return Cs(n),o=je(Se),e===null?(h=tf(),h===null&&(h=te,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),vr(n,Se,h)):((e.lanes&s)!==0&&(rf(e,n),Yo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vr(n,Se,o)):(o=f.cache,vr(n,Se,o),o!==h.cache&&Zh(n,[Se],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function zf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(My())e.flags|=8192;else throw Os=ku,ef}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(My())e.flags|=8192;else throw Os=ku,ef}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Oa|=n)}function tl(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function A1(e,n,s){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Se),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ie(n),ay(n,f)):(ie(n),zf(n,h,null,o,s))):f?f!==e.memoizedState?(qi(n),ie(n),ay(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ie(n),zf(n,h,e,o,s)),null;case 27:if(Js(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=at.current,_a(n)?zg(n):(e=d_(h,o,s),n.stateNode=e,qi(n))}return ie(n),null;case 5:if(Js(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=at.current,_a(n))zg(n);else{var p=dc(At.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[ve]=n,f[xe]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ie(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,s)),e||_r(n,!0)}else e=dc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$u(n,n.updateQueue),ie(n),null);case 4:return se(),e===null&&od(n.stateNode.containerInfo),ie(n),null;case 10:return Pi(n.type),ie(n),null;case 19:if(X(me),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)xg(s,e),s=s.sibling;return it(me,me.current&1|2),Vt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ie(n),null}else 2*tn()-o.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=me.current,it(me,h?s&1|2:s&1),Vt&&Ui(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return _n(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&$u(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Ds),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function b1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Se),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Js(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(me),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),lf(),e!==null&&X(Ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Se),null;case 25:return null;default:return null}}function oy(e,n){switch(Qh(n),n.tag){case 3:Pi(Se),se();break;case 26:case 27:case 5:Js(n);break;case 4:se();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:X(me);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),lf(),e!==null&&X(Ds);break;case 24:Pi(Se)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function wr(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(H){Yt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Yt(n,n.return,H)}}function ly(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{$g(n,s)}catch(o){Yt(e,e.return,o)}}}function uy(e,n,s){s.props=xs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function cy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;Q1(o,e.type,s,n),o[xe]=n}catch(h){Yt(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mr(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Mr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Wu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Mr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function fy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ve]=e,n[xe]=s}catch(f){Yt(e,e.return,f)}}var Hi=!1,we=!1,Hf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function w1(e,n){if(e=e.containerInfo,cd=Ec,e=wg(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,R=-1,P=0,H=0,Y=e,z=null;e:for(;;){for(var j;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(R=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(j=Y.firstChild)!==null;)z=Y,Y=j;for(;;){if(Y===e)break e;if(z===s&&++P===h&&(E=p),z===f&&++H===o&&(R=p),(j=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=j}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},Ec=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=xs(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function my(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),o&4&&el(5,s);break;case 1:if(Gi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(s,s.return,p)}else{var h=xs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(s,s.return,p)}}o&64&&ly(s),o&512&&nl(s,s.return);break;case 3:if(Gi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{$g(e,n)}catch(p){Yt(s,s.return,p)}}break;case 27:n===null&&o&4&&fy(s);case 26:case 5:Gi(e,s),n===null&&o&4&&cy(s),o&512&&nl(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),o&4&&yy(e,s);break;case 13:Gi(e,s),o&4&&_y(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=x1.bind(null,s),tS(e,s))));break;case 22:if(o=s.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||we,h=Hi;var f=we;Hi=o,(we=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),Hi=h,we=f}break;case 30:break;default:Gi(e,s)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Fi(e,n,s){for(s=s.child;s!==null;)py(e,n,s),s=s.sibling}function py(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:we||vi(s,n),Fi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||vi(s,n);var o=oe,h=an;Mr(s.type)&&(oe=s.stateNode,an=!1),Fi(e,n,s),hl(s.stateNode),oe=o,an=h;break;case 5:we||vi(s,n);case 6:if(o=oe,h=an,oe=null,Fi(e,n,s),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:oe!==null&&(an?(e=oe,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):l_(oe,s.stateNode));break;case 4:o=oe,h=an,oe=s.stateNode.containerInfo,an=!0,Fi(e,n,s),oe=o,an=h;break;case 0:case 11:case 14:case 15:wr(2,s,n),we||wr(4,s,n),Fi(e,n,s);break;case 1:we||(vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&uy(s,n,o)),Fi(e,n,s);break;case 21:Fi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,Fi(e,n,s),we=o;break;default:Fi(e,n,s)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){Yt(n,n.return,s)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){Yt(n,n.return,s)}}function R1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=R1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=k1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Mr(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));py(f,p,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var Yn=null;function vy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(wr(3,e,e.return),el(3,e),wr(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var p=v_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(p=v_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(we||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(ot){Yt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Yt(e,e.return,ot)}}break;case 3:if(pc=null,h=Yn,Yn=mc(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(ot){Yt(e,e.return,ot)}Hf&&(Hf=!1,Ey(e));break;case 4:o=Yn,Yn=mc(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Hi,H=we;if(Hi=P||h,we=H||R,on(n,e),we=H,Hi=P,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Hi||we||ks(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Yt(R,R.return,ot)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Yt(R,R.return,ot)}}}else if(n.tag===18){if(s===null){R=n;try{var j=R.stateNode;h?u_(j,!0):u_(R.stateNode,!1)}catch(ot){Yt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(e,s))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(hy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=jf(e);Wu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(sn(p,""),s.flags&=-33);var E=jf(e);Wu(e,E,p);break;case 3:case 4:var R=s.stateNode.containerInfo,P=jf(e);qf(e,P,R);break;default:throw Error(a(161))}}catch(H){Yt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function ks(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wr(4,n,n.return),ks(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&uy(n,n.return,s),ks(n);break;case 27:hl(n.stateNode);case 26:case 5:vi(n,n.return),ks(n);break;case 22:n.memoizedState===null&&ks(n);break;case 30:ks(n);break;default:ks(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),el(4,f);break;case 1:if(Qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Yt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Zg(R[h],E)}catch(P){Yt(o,o.return,P)}}s&&p&64&&ly(f),nl(f,f.return);break;case 27:fy(f);case 26:case 5:Qi(h,f,s),s&&o===null&&p&4&&cy(f),nl(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&p&4&&yy(h,f);break;case 13:Qi(h,f,s),s&&p&4&&_y(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),nl(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qo(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function Xn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,s,o),n=n.sibling}function Ty(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,o),h&2048&&el(9,n);break;case 1:Xn(e,n,s,o);break;case 3:Xn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){Xn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Xn(e,n,s,o);break;case 31:Xn(e,n,s,o);break;case 13:Xn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,o):il(e,n):f._visibility&2?Xn(e,n,s,o):(f._visibility|=2,Ca(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(p,n);break;case 24:Xn(e,n,s,o),h&2048&&Gf(n.alternate,n);break;default:Xn(e,n,s,o)}}function Ca(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,R=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(f,p,E,R,h),el(8,p);break;case 23:break;case 22:var H=p.stateNode;p.memoizedState!==null?H._visibility&2?Ca(f,p,E,R,h):il(f,p):(H._visibility|=2,Ca(f,p,E,R,h)),h&&P&2048&&Ff(p.alternate,p);break;case 24:Ca(f,p,E,R,h),h&&P&2048&&Gf(p.alternate,p);break;default:Ca(f,p,E,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Ff(o.alternate,o);break;case 24:il(s,o),h&2048&&Gf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var rl=8192;function Da(e,n,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Sy(e,n,s),e=e.sibling}function Sy(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&rl&&e.memoizedState!==null&&fS(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=Yn;Yn=mc(e.stateNode.containerInfo),Da(e,n,s),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Da(e,n,s),rl=o):Da(e,n,s));break;default:Da(e,n,s)}}function Ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,wy(o,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&wr(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):sl(e);break;default:sl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,wy(o,e)}Ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wr(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function wy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:wr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(gy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var I1={getCacheForType:function(e){var n=je(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return je(Se).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,jt=0,te=null,wt=null,It=0,Kt=0,vn=null,Rr=!1,Na=!1,Qf=!1,Ki=0,he=0,Ir=0,Us=0,Kf=0,En=0,Oa=0,al=null,un=null,Yf=!1,nc=0,Ry=0,ic=1/0,rc=null,Cr=null,Me=0,Dr=null,Ma=null,Yi=0,Xf=0,Jf=null,Iy=null,ol=0,Zf=null;function Tn(){return(jt&2)!==0&&It!==0?It&-It:F.T!==null?id():su()}function Cy(){if(En===0)if((It&536870912)===0||Vt){var e=us;us<<=1,(us&3932160)===0&&(us=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Nr(e,It,En,!1)),cs(e,s),((jt&2)===0||e!==te)&&(e===te&&((jt&2)===0&&(Us|=s),he===4&&Nr(e,It,En,!1)),Ei(e))}function Dy(e,n,s){if((jt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?O1(e,n):Wf(e,n,!0),f=o;do{if(h===0){Na&&!o&&Nr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!D1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=al;var R=E.current.memoizedState.isDehydrated;if(R&&(Va(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Qf&&!R){E.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Nr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Nr(o,n,En,!Rr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Nr(o,n,En,!Rr),ni(o,0,!0)!==0)break t;Yi=n,o.timeoutHandle=a_(Ny.bind(null,o,s,un,rc,Yf,n,En,Us,Oa,Rr,f,"Throttled",-0,0),h);break t}Ny(o,s,un,rc,Yf,n,En,Us,Oa,Rr,f,null,-0,0)}}break}while(!0);Ei(e)}function Ny(e,n,s,o,h,f,p,E,R,P,H,Y,z,j){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Sy(n,f,Y);var ot=(f&62914560)===f?nc-tn():(f&4194048)===f?Ry-tn():0;if(ot=dS(Y,ot),ot!==null){Yi=f,e.cancelPendingCommit=ot(Py.bind(null,e,n,f,s,o,h,p,E,R,H,Y,null,z,j)),Nr(e,f,p,!P);return}}Py(e,n,f,s,o,h,p,E,R)}function D1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n,s,o){n&=~Kf,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&hs(e,s,n)}function sc(){return(jt&6)===0?(ll(0),!1):!0}function $f(){if(wt!==null){if(Kt===0)var e=wt.return;else e=wt,Li=Is=null,mf(e),Aa=null,Fo=0,e=wt;for(;e!==null;)oy(e.alternate,e),e=e.return;wt=null}}function Va(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,X1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,$f(),te=e,wt=s=ki(e.current,null),It=n,Kt=0,vn=null,Rr=!1,Na=zn(e,n),Qf=!1,Oa=En=Kf=Us=Ir=he=0,un=al=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-fe(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,Ru(),s}function Oy(e,n){St=null,F.H=$o,n===Sa||n===xu?(n=Kg(),Kt=3):n===ef?(n=Kg(),Kt=4):Kt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,wt===null&&(he=1,Yu(e,Dn(n,e.current)))}function My(){var e=yn.current;return e===null?!0:(It&4194048)===It?Vn===null:(It&62914560)===It||(It&536870912)!==0?e===Vn:!1}function Vy(){var e=F.H;return F.H=$o,e===null?$o:e}function xy(){var e=F.A;return F.A=I1,e}function ac(){he=4,Rr||(It&4194048)!==It&&yn.current!==null||(Na=!0),(Ir&134217727)===0&&(Us&134217727)===0||te===null||Nr(te,It,En,!1)}function Wf(e,n,s){var o=jt;jt|=2;var h=Vy(),f=xy();(te!==e||It!==n)&&(rc=null,Va(e,n)),n=!1;var p=he;t:do try{if(Kt!==0&&wt!==null){var E=wt,R=vn;switch(Kt){case 8:$f(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Kt;if(Kt=0,vn=null,xa(e,E,R,P),s&&Na){p=0;break t}break;default:P=Kt,Kt=0,vn=null,xa(e,E,R,P)}}N1(),p=he;break}catch(H){Oy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Li=Is=null,jt=o,F.H=h,F.A=f,wt===null&&(te=null,It=0,Ru()),p}function N1(){for(;wt!==null;)ky(wt)}function O1(e,n){var s=jt;jt|=2;var o=Vy(),h=xy();te!==e||It!==n?(rc=null,ic=tn()+500,Va(e,n)):Na=zn(e,n);t:do try{if(Kt!==0&&wt!==null){n=wt;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,xa(e,n,f,1);break;case 2:case 9:if(Gg(f)){Kt=0,vn=null,Uy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ei(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Gg(f)?(Kt=0,vn=null,Uy(n)):(Kt=0,vn=null,xa(e,n,f,7));break;case 5:var p=null;switch(wt.tag){case 26:p=wt.memoizedState;case 5:case 27:var E=wt;if(p?T_(p):E.stateNode.complete){Kt=0,vn=null;var R=E.sibling;if(R!==null)wt=R;else{var P=E.return;P!==null?(wt=P,oc(P)):wt=null}break e}}Kt=0,vn=null,xa(e,n,f,5);break;case 6:Kt=0,vn=null,xa(e,n,f,6);break;case 8:$f(),he=6;break t;default:throw Error(a(462))}}M1();break}catch(H){Oy(e,H)}while(!0);return Li=Is=null,F.H=o,F.A=h,jt=s,wt!==null?0:(te=null,It=0,Ru(),he)}function M1(){for(;wt!==null&&!Ch();)ky(wt)}function ky(e){var n=sy(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?oc(e):wt=n}function Uy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Wp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Wp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:mf(n);default:oy(s,n),n=wt=xg(n,Ki),n=sy(s,n,Ki)}e.memoizedProps=e.pendingProps,n===null?oc(e):wt=n}function xa(e,n,s,o){Li=Is=null,mf(n),Aa=null,Fo=0;var h=n.return;try{if(E1(e,h,n,s,It)){he=1,Yu(e,Dn(s,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;he=1,Yu(e,Dn(s,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Na||(It&536870912)!==0?e=!1:(Rr=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,Rr);return}e=n.return;var s=A1(n.alternate,n,Ki);if(s!==null){wt=s;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);he===0&&(he=5)}function Ly(e,n){do{var s=b1(e.alternate,e);if(s!==null){s.flags&=32767,wt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=s}while(e!==null);he=6,wt=null}function Py(e,n,s,o,h,f,p,E,R){e.cancelPendingCommit=null;do lc();while(Me!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,p,E,R),e===te&&(wt=te=null,It=0),Ma=n,Dr=e,Yi=s,Xf=f,Jf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,U1(ar,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,p=jt,jt|=4;try{w1(e,n,s)}finally{jt=p,nt.p=h,F.T=o}}Me=1,zy(),By(),jy()}}function zy(){if(Me===1){Me=0;var e=Dr,n=Ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=jt;jt|=4;try{vy(n,e);var f=hd,p=wg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&bg(E.ownerDocument.documentElement,E)){if(R!==null&&kh(E)){var P=R.start,H=R.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var j=z.getSelection(),ot=E.textContent.length,mt=Math.min(R.start,ot),Wt=R.end===void 0?mt:Math.min(R.end,ot);!j.extend&&mt>Wt&&(p=Wt,Wt=mt,mt=p);var k=Ag(E,mt),O=Ag(E,Wt);if(k&&O&&(j.rangeCount!==1||j.anchorNode!==k.node||j.anchorOffset!==k.offset||j.focusNode!==O.node||j.focusOffset!==O.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),j.removeAllRanges(),mt>Wt?(j.addRange(L),j.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),j.addRange(L))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var G=Y[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ec=!!cd,hd=cd=null}finally{jt=h,nt.p=o,F.T=s}}e.current=n,Me=2}}function By(){if(Me===2){Me=0;var e=Dr,n=Ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=nt.p;nt.p=2;var h=jt;jt|=4;try{my(e,n.alternate,n)}finally{jt=h,nt.p=o,F.T=s}}Me=3}}function jy(){if(Me===4||Me===3){Me=0,$l();var e=Dr,n=Ma,s=Yi,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Ma=Dr=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),Oi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,nt.p=h}}(Yi&3)!==0&&lc(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?ol++:(ol=0,Zf=e):ol=0,ll(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function lc(){return zy(),By(),jy(),Hy()}function Hy(){if(Me!==5)return!1;var e=Dr,n=Xf;Xf=0;var s=Oi(Yi),o=F.T,h=nt.p;try{nt.p=32>s?32:s,F.T=null,s=Jf,Jf=null;var f=Dr,p=Yi;if(Me=0,Ma=Dr=null,Yi=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,by(f.current),Ty(f,f.current,p,s),jt=E,ll(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{nt.p=h,F.T=o,qy(e,n)}}function Fy(e,n,s){n=Dn(s,n),n=Df(e.stateNode,n,2),e=Sr(e,n,2),e!==null&&(cs(e,2),Ei(e))}function Yt(e,n,s){if(e.tag===3)Fy(e,e,s);else for(;n!==null;){if(n.tag===3){Fy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){e=Dn(s,e),s=Gp(2),o=Sr(n,s,2),o!==null&&(Qp(s,o,n,e),cs(o,2),Ei(o));break}}n=n.return}}function td(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new C1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=V1.bind(null,e,n,s),n.then(e,e))}function V1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(It&s)===s&&(he===4||he===3&&(It&62914560)===It&&300>tn()-nc?(jt&2)===0&&Va(e,0):Kf|=s,Oa===It&&(Oa=0)),Ei(e)}function Gy(e,n){n===0&&(n=ru()),e=bs(e,n),e!==null&&(cs(e,n),Ei(e))}function x1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function k1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(e,s)}function U1(e,n){return Oe(e,n)}var uc=null,ka=null,ed=!1,cc=!1,nd=!1,Or=0;function Ei(e){e!==ka&&e.next===null&&(ka===null?uc=ka=e:ka=ka.next=e),cc=!0,ed||(ed=!0,P1())}function ll(e,n){if(!nd&&cc){nd=!0;do for(var s=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Xy(o,f))}else f=It,f=ni(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,Xy(o,f));o=o.next}while(s);nd=!1}}function L1(){Qy()}function Qy(){cc=ed=!1;var e=0;Or!==0&&Y1()&&(e=Or);for(var n=tn(),s=null,o=uc;o!==null;){var h=o.next,f=Ky(o,n);f===0?(o.next=null,s===null?uc=h:s.next=h,h===null&&(ka=s)):(s=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Me!==0&&Me!==5||ll(e),Or!==0&&(Or=0)}function Ky(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-fe(f),E=1<<p,R=h[p];R===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Nh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=It,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&sr(o),Oi(s)){case 2:case 8:s=_o;break;case 32:s=ar;break;case 268435456:s=Wl;break;default:s=ar}return o=Yy.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&sr(o),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(lc()&&e.callbackNode!==s)return null;var o=It;return o=ni(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Ky(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Yy.bind(null,e):null)}function Xy(e,n){if(lc())return null;Dy(e,n,!0)}function P1(){J1(function(){(jt&6)!==0?Oe(yo,L1):Qy()})}function id(){if(Or===0){var e=Ea;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Or=e}return Or}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function z1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Jy((h[xe]||null).action),p=o.submitter;p&&(n=(n=p[xe]||null)?Jy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var R=p?Zy(h,p):new FormData(h);Af(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Zy(h,p):new FormData(h),Af(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var sd=zh[rd],B1=sd.toLowerCase(),j1=sd[0].toUpperCase()+sd.slice(1);Kn(B1,"on"+j1)}Kn(Cg,"onAnimationEnd"),Kn(Dg,"onAnimationIteration"),Kn(Ng,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(i1,"onTransitionRun"),Kn(r1,"onTransitionStart"),Kn(s1,"onTransitionCancel"),Kn(Og,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function $y(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=R}}}}function Rt(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var o=e+"__bubble";s.has(o)||(Wy(n,e,2,!1),s.add(o))}function ad(e,n,s){var o=0;n&&(o|=4),Wy(s,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[hc]){e[hc]=!0,To.forEach(function(s){s!=="selectionchange"&&(q1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ad("selectionchange",!1,n))}}function Wy(e,n,s,o){switch(C_(n)){case 2:var h=pS;break;case 8:h=yS;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!ps||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}fr(function(){var P=f,H=wn(s),Y=[];t:{var z=Mg.get(e);if(z!==void 0){var j=di,ot=e;switch(e){case"keypress":if(_s(s)===0)break t;case"keydown":case"keyup":j=Su;break;case"focusin":ot="focus",j=Es;break;case"focusout":ot="blur",j=Es;break;case"beforeblur":case"afterblur":j=Es;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case Cg:case Dg:case Ng:j=gu;break;case Og:j=T;break;case"scroll":case"scrollend":j=Vo;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=xi;break;case"toggle":case"beforetoggle":j=Tt}var mt=(n&4)!==0,Wt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?z!==null?z+"Capture":null:z;mt=[];for(var O=P,L;O!==null;){var G=O;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||k===null||(G=Hn(O,k),G!=null&&mt.push(cl(O,G,L))),Wt)break;O=O.return}0<mt.length&&(z=new j(z,ot,null,s,H),Y.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&s!==No&&(ot=s.relatedTarget||s.fromElement)&&(ai(ot)||ot[ri]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(ot=s.relatedTarget||s.toElement,j=P,ot=ot?ai(ot):null,ot!==null&&(Wt=c(ot),mt=ot.tag,ot!==Wt||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(j=null,ot=P),j!==ot)){if(mt=xo,G="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=xi,G="onPointerLeave",k="onPointerEnter",O="pointer"),Wt=j==null?z:dn(j),L=ot==null?z:dn(ot),z=new mt(G,O+"leave",j,s,H),z.target=Wt,z.relatedTarget=L,G=null,ai(H)===P&&(mt=new mt(k,O+"enter",ot,s,H),mt.target=L,mt.relatedTarget=Wt,G=mt),Wt=G,j&&ot)e:{for(mt=H1,k=j,O=ot,L=0,G=k;G;G=mt(G))L++;G=0;for(var ht=O;ht;ht=mt(ht))G++;for(;0<L-G;)k=mt(k),L--;for(;0<G-L;)O=mt(O),G--;for(;L--;){if(k===O||O!==null&&k===O.alternate){mt=k;break e}k=mt(k),O=mt(O)}mt=null}else mt=null;j!==null&&t_(Y,z,j,mt,!1),ot!==null&&Wt!==null&&t_(Y,Wt,ot,mt,!0)}}t:{if(z=P?dn(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var Lt=yg;else if(gg(z))if(_g)Lt=t1;else{Lt=$T;var ct=ZT}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ra(P.elementType)&&(Lt=yg):Lt=WT;if(Lt&&(Lt=Lt(e,P))){pg(Y,Lt,s,H);break t}ct&&ct(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(ct=P?dn(P):window,e){case"focusin":(gg(ct)||ct.contentEditable==="true")&&(fa=ct,Uh=P,zo=null);break;case"focusout":zo=Uh=fa=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Rg(Y,s,H);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":Rg(Y,s,H)}var bt;if(Bt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ha?Ts(e,s)&&(Ct="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ct="onCompositionStart");Ct&&(pi&&s.locale!=="ko"&&(ha||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ha&&(bt=Mo()):(fi=H,Oo="value"in fi?fi.value:fi.textContent,ha=!0)),ct=fc(P,Ct),0<ct.length&&(Ct=new gi(Ct,e,null,s,H),Y.push({event:Ct,listeners:ct}),bt?Ct.data=bt:(bt=ca(s),bt!==null&&(Ct.data=bt)))),(bt=In?KT(e,s):YT(e,s))&&(Ct=fc(P,"onBeforeInput"),0<Ct.length&&(ct=new gi("onBeforeInput","beforeinput",null,s,H),Y.push({event:ct,listeners:Ct}),ct.data=bt)),z1(Y,e,P,s,H)}$y(Y,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&o.unshift(cl(e,h,f)),h=Hn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function H1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Hn(s,f),P!=null&&p.unshift(cl(s,P,R))):h||(P=Hn(s,f),P!=null&&p.push(cl(s,P,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var F1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(F1,`
`).replace(G1,"")}function n_(e,n){return n=e_(n),e_(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=sa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=sa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,na(e,s,o))}}function ud(e,n,s,o,h,f){switch(s){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):na(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,p,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Rt("invalid",e);var E=f=p=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":p=H;break;case"checked":R=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:$t(e,n,o,H,s,null)}}uu(e,f,E,R,P,p,h,!1);return;case"select":Rt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?lr(e,!!o,n,!1):s!=null&&lr(e,!!o,s,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,p,E,s,null)}ur(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,R,o,s,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Rt(ul[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,P,o,s,null)}return;default:if(ra(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&ud(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function Q1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,P=null,H=null;for(j in s){var Y=s[j];if(s.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(j)||$t(e,n,j,null,o,Y)}}for(var z in o){var j=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(j!=null||Y!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":p=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Y&&$t(e,n,z,j,o,Y)}}ia(e,p,E,R,P,H,f,h);return;case"select":j=p=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":j=R;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&$t(e,n,h,f,o,R)}n=E,s=p,o=j,z!=null?lr(e,!!s,z,!1):!!o!=!!s&&(n!=null?lr(e,!!s,n,!0):lr(e,!!s,s?[]:"",!1));return;case"textarea":j=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,p,h,o,f)}cu(e,z,j);return;case"option":for(var ot in s)z=s[ot],s.hasOwnProperty(ot)&&z!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:$t(e,n,ot,null,o,z));for(R in o)z=o[R],j=s[R],o.hasOwnProperty(R)&&z!==j&&(z!=null||j!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":$t(e,n,R,z,o,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&$t(e,n,mt,null,o,z);for(P in o)if(z=o[P],j=s[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:$t(e,n,P,z,o,j)}return;default:if(ra(n)){for(var Wt in s)z=s[Wt],s.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&ud(e,n,Wt,void 0,o,z);for(H in o)z=o[H],j=s[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||ud(e,n,H,z,o,j);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&$t(e,n,k,null,o,z);for(Y in o)z=o[Y],j=s[Y],!o.hasOwnProperty(Y)||z===j||z==null&&j==null||$t(e,n,Y,z,o,j)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&i_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var H=R.transferSize,Y=R.initiatorType;H&&i_(Y)&&(R=R.responseEnd,p+=H*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function Y1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(Z1)}:a_;function Z1(e){setTimeout(function(){throw e})}function Mr(e){return e==="head"}function l_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);za(n)}function u_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function $1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function W1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var kn=new Map,m_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=nt.d;nt.d={f:eS,r:nS,D:iS,C:rS,L:sS,m:aS,X:lS,S:oS,M:uS};function eS(){var e=Xi.f(),n=sc();return e||n}function nS(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Op(n):Xi.r(e)}var Ua=typeof document>"u"?null:document;function g_(e,n,s){var o=Ua;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function iS(e){Xi.D(e),g_("dns-prefetch",e,null)}function rS(e,n){Xi.C(e,n),g_("preconnect",e,n)}function sS(e,n,s){Xi.L(e,n,s);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function aS(e,n){Xi.m(e,n);var s=Ua;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),He(o,"link",e),Ee(o),s.head.appendChild(o)}}}function oS(e,n,s){Xi.S(e,n,s);var o=Ua;if(o&&e){var h=oi(o).hoistableStyles,f=La(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(fl(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&_d(e,s);var R=p=o.createElement("link");Ee(R),He(R,"link",e),R._p=new Promise(function(P,H){R.onload=P,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function lS(e,n){Xi.X(e,n);var s=Ua;if(s&&e){var o=oi(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&vd(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function uS(e,n){Xi.M(e,n);var s=Ua;if(s&&e){var o=oi(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&vd(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(e,n,s,o){var h=(h=At.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=oi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(fl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||cS(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+rn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function cS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function Pa(e){return'[src="'+rn(e)+'"]'}function dl(e){return"script[async]"+e}function __(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",h),gc(o,s.precedence,e),n.instance=o;case"stylesheet":h=La(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=y_(s),(h=kn.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ee(h),h):(o=s,(h=kn.get(f))&&(o=A({},s),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,e));return n.instance}function gc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function v_(e,n,s){if(pc===null){var o=new Map,h=pc=new Map;h.set(s,o)}else h=pc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function E_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function hS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=y_(o),(h=kn.get(h))&&_d(o,h),f=f.createElement("link"),Ee(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function dS(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*K1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(mS,e),_c=null,yc.call(e))}function mS(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var o=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:ut,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function gS(e,n,s,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function S_(e,n,s,o,h,f,p,E,R,P,H,Y){return e=new gS(e,n,s,p,R,P,H,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),e}function A_(e){return e?(e=ga,e):ga}function b_(e,n,s,o,h,f){h=A_(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Sr(e,o,n),s!==null&&(cn(s,e,n),Qo(s,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=bs(e,67108864);n!==null&&cn(n,e,67108864),Td(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=Tn();n=fs(n);var s=bs(e,n);s!==null&&cn(s,e,n),Td(e,n)}}var Ec=!0;function pS(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,Sd(e,n,s,o)}finally{nt.p=f,F.T=h}}function yS(e,n,s,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,Sd(e,n,s,o)}finally{nt.p=f,F.T=h}}function Sd(e,n,s,o){if(Ec){var h=Ad(o);if(h===null)ld(e,n,o,Tc,s),D_(e,o);else if(vS(h,e,n,s,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<_S.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-fe(p);E.entanglements[1]|=R,p&=~R}Ei(f),(jt&6)===0&&(ic=tn()+500,ll(0))}}break;case 31:case 13:E=bs(f,2),E!==null&&cn(E,f,2),sc(),Td(f,2)}if(f=Ad(o),f===null&&ld(e,n,o,Tc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(e,n,o,null,s)}}function Ad(e){return e=wn(e),bd(e)}var Tc=null;function bd(e){if(Tc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case yo:return 2;case _o:return 8;case ar:case Dh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var wd=!1,Vr=null,xr=null,kr=null,gl=new Map,pl=new Map,Ur=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function vS(e,n,s,o,h){switch(n){case"focusin":return Vr=yl(Vr,e,n,s,o,h),!0;case"dragenter":return xr=yl(xr,e,n,s,o,h),!0;case"mouseover":return kr=yl(kr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0}return!1}function N_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){I_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){I_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=bn(s),n!==null&&R_(n),e.blockedOn=s,!1;n.shift()}return!0}function O_(e,n,s){Sc(e)&&s.delete(n)}function ES(){wd=!1,Vr!==null&&Sc(Vr)&&(Vr=null),xr!==null&&Sc(xr)&&(xr=null),kr!==null&&Sc(kr)&&(kr=null),gl.forEach(O_),pl.forEach(O_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ES)))}var bc=null;function M_(e){bc!==e&&(bc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function za(e){function n(R){return Ac(R,e)}Vr!==null&&Ac(Vr,e),xr!==null&&Ac(xr,e),kr!==null&&Ac(kr,e),gl.forEach(n),pl.forEach(n);for(var s=0;s<Ur.length;s++){var o=Ur[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(s=Ur[0],s.blockedOn===null);)N_(s),s.blockedOn===null&&Ur.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[xe]||null;if(typeof f=="function")p||M_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[xe]||null)E=p.formAction;else if(bd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),M_(s)}}}function V_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}wc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();b_(s,o,e,n,null,null)},wc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),sc(),n[ri]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ur.length&&n!==0&&n<Ur[s].priority;s++);Ur.splice(s,0,e),s===0&&N_(e)}};var x_=t.version;if(x_!=="19.2.3")throw Error(a(527,x_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var TS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Pn=Rc.inject(TS),Pe=Rc}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=jp,f=qp,p=Hp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=S_(e,1,!1,null,null,s,o,null,h,f,p,V_),e[ri]=n.current,od(e),new Rd(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=jp,p=qp,E=Hp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=S_(e,1,!0,n,s??null,o,h,R,f,p,E,V_),n.context=A_(null),s=n.current,o=Tn(),o=fs(o),h=Tr(o),h.callback=null,Sr(s,h,o),s=o,n.current.lanes=s,cs(n,s),Ei(n),e[ri]=n.current,od(e),new wc(n)},vl.version="19.2.3",vl}var F_;function OS(){if(F_)return Dd.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=NS(),Dd.exports}var MS=OS();const Pr=["One day or Day One. You decide.","The cost of 'later' is always higher than the price of 'now'.","Discipline weighs ounces; regret weighs tons.","You are currently choosing the person you will be tomorrow.","Dont kill your future self's time by wasting your own today.","Action is the only antidote to anxiety.","Ideas are cheap. Execution is everything.","Kill the excuses before they kill your progress.","Your potential is waiting on your initiative.","Done is better than perfect. Start now."],VS=()=>{const[r,t]=Ht.useState(Pr[0]),[i,a]=Ht.useState(new Date);Ht.useEffect(()=>{const d=setInterval(()=>a(new Date),1e3);return()=>clearInterval(d)},[]),Ht.useEffect(()=>{try{const d=new Date().toDateString(),g=localStorage.getItem("todo_quote_data");let y={};if(g)try{y=JSON.parse(g)}catch(_){console.error("Failed to parse quote data",_),localStorage.removeItem("todo_quote_data")}if(y&&y.date===d&&typeof y.index=="number")t(Pr[y.index]||Pr[0]);else{let _=Math.floor(Math.random()*Pr.length);y&&y.index===_&&Pr.length>1&&(_=(_+1)%Pr.length),localStorage.setItem("todo_quote_data",JSON.stringify({date:d,index:_})),t(Pr[_])}}catch(d){console.error("Header Error:",d),t(Pr[0])}},[]);const l=d=>d.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=d=>d.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});return W.jsxs("header",{style:{marginBottom:"3rem",textAlign:"center"},children:[W.jsx("div",{style:{marginBottom:"2rem"},children:W.jsxs("h1",{style:{fontSize:"2rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"var(--text-primary)",marginBottom:"0.8rem",lineHeight:"1.4"},children:['"',r,'"']})}),W.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)"},children:[W.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"500",textTransform:"uppercase",letterSpacing:"2px",color:"var(--accent-green)"},children:l(i)}),W.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"300",fontFamily:"monospace",letterSpacing:"2px",color:"var(--text-primary)",background:"rgba(255,255,255,0.05)",padding:"0.5rem 1.5rem",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.1)"},children:c(i)})]})]})};const xS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),G_=r=>{const t=kS(r);return t.charAt(0).toUpperCase()+t.slice(1)},w0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),US=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PS=Ht.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},y)=>Ht.createElement("svg",{ref:y,...LS,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:w0("lucide",l),...!c&&!US(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>Ht.createElement(_,S)),...Array.isArray(c)?c:[c]]));const Ln=(r,t)=>{const i=Ht.forwardRef(({className:a,...l},c)=>Ht.createElement(PS,{ref:c,iconNode:t,className:w0(`lucide-${xS(G_(r))}`,`lucide-${r}`,a),...l}));return i.displayName=G_(r),i};const zS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],BS=Ln("arrow-left",zS);const jS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Tm=Ln("check",jS);const qS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HS=Ln("clock",qS);const FS=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],GS=Ln("cloud-rain",FS);const QS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],KS=Ln("history",QS);const YS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Q_=Ln("pause",YS);const XS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],JS=Ln("play",XS);const ZS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$S=Ln("plus",ZS);const WS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],tA=Ln("rotate-ccw",WS);const eA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nA=Ln("trash-2",eA);const iA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rA=Ln("volume-2",iA);const sA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K_=Ln("x",sA);let Ge=null,Si=null,Fr=null;const R0=()=>{Ge||(Ge=new(window.AudioContext||window.webkitAudioContext)),Ge.state==="suspended"&&Ge.resume()},wl=()=>{if(Si){try{Si.stop(),Si.disconnect()}catch{}Si=null}},aA=()=>{R0(),wl();const r=Ge.sampleRate*2,t=Ge.createBuffer(1,r,Ge.sampleRate),i=t.getChannelData(0);for(let c=0;c<r;c++){const d=Math.random()*2-1;i[c]=Si?(Si.lastOut+.02*d)/1.02:d,Si.lastOut=i[c],i[c]*=3.5}const a=Ge.createBufferSource();a.buffer=t,a.loop=!0;const l=Ge.createBiquadFilter();l.type="lowpass",l.frequency.value=400,Fr=Ge.createGain(),Fr.gain.value=.5,a.connect(l),l.connect(Fr),Fr.connect(Ge.destination),a.start(),Si=a,Si.lastOut=0},oA=()=>{R0(),wl();const r=Ge.sampleRate*2,t=Ge.createBuffer(1,r,Ge.sampleRate),i=t.getChannelData(0);let a,l,c,d,g,y,_;a=l=c=d=g=y=_=0;for(let A=0;A<r;A++){const D=Math.random()*2-1;a=.99886*a+D*.0555179,l=.99332*l+D*.0750759,c=.969*c+D*.153852,d=.8665*d+D*.3104856,g=.55*g+D*.5329522,y=-.7616*y-D*.016898,i[A]=a+l+c+d+g+y+_+D*.5362,i[A]*=.11,_=D*.115926}const S=Ge.createBufferSource();S.buffer=t,S.loop=!0,Fr=Ge.createGain(),Fr.gain.value=.6,S.connect(Fr),Fr.connect(Ge.destination),S.start(),Si=S},lA=({initialTime:r=0,onTimeUpdate:t,taskText:i,onComplete:a,onSaveTimer:l})=>{const[c,d]=Ht.useState(r),[g,y]=Ht.useState(!1),[_,S]=Ht.useState(!1),[A,D]=Ht.useState("none"),[q,$]=Ht.useState(!1),[Q,K]=Ht.useState(0),[et,lt]=Ht.useState(0);Ht.useEffect(()=>{r>0&&!g&&d(r)},[r]),Ht.useEffect(()=>{if(q){const M=Math.floor(c/3600),w=Math.floor(c%3600/60);K(M),lt(w)}},[q,c]),Ht.useEffect(()=>{let M=null;return g&&c>0?M=setInterval(()=>{d(w=>{if(w<=1)return ut(),t&&t(0),0;const qt=w-1;return t&&t(qt),qt})},1e3):c===0&&ut(),()=>clearInterval(M)},[g,c,t]);const ut=()=>{y(!1),S(!1),wl(),D("none"),l&&l(c)},zt=()=>{c>0?(y(!0),S(!0),$(!1)):$(!0)},Xt=()=>{y(!1),wl(),D("none"),l&&l(c)},Mt=()=>{ut(),d(0),t&&t(0)},C=()=>{const M=parseInt(Q)*3600+parseInt(et)*60;d(M),t&&t(M),$(!1)},b=M=>{lt(M),K(0);const w=M*60;d(w),t&&t(w),$(!1)},I=()=>{a&&a(),ut()},x=M=>{A===M?(wl(),D("none")):(M==="brown"&&aA(),M==="rain"&&oA(),D(M))},N=M=>{const w=Math.floor(M/3600),qt=Math.floor(M%3600/60),ue=M%60;return w>0?`${w}:${qt.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`:`${qt.toString().padStart(2,"0")}:${ue.toString().padStart(2,"0")}`};return W.jsxs(W.Fragment,{children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",position:"relative"},children:[W.jsx("div",{onClick:()=>!g&&$(!q),style:{fontFamily:"monospace",fontSize:"1.5rem",fontWeight:"700",color:c<60&&c>0?"var(--accent-red)":"var(--accent-blue)",minWidth:"80px",textAlign:"center",cursor:g?"default":"pointer",background:q?"rgba(255,255,255,0.1)":"transparent",padding:"0.2rem 0.5rem",borderRadius:"8px",transition:"all 0.2s"},title:g?"":"Click to set time",children:c===0&&!q?W.jsxs("span",{style:{fontSize:"1rem",opacity:.7,display:"flex",alignItems:"center",gap:"4px"},children:[W.jsx(HS,{size:16})," Set Time"]}):N(c)}),g?W.jsx("button",{onClick:Xt,style:{background:"rgba(255, 82, 82, 0.2)",color:"var(--accent-red)",padding:"0.5rem",borderRadius:"50%"},children:W.jsx(Q_,{size:20})}):W.jsx("button",{onClick:zt,style:{background:c>0?"var(--accent-blue)":"rgba(255,255,255,0.1)",color:c>0?"white":"var(--text-secondary)",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"600",cursor:c>0?"pointer":"default"},disabled:c===0,children:"Start Now"}),W.jsx("button",{onClick:Mt,style:{color:"var(--text-secondary)",padding:"0.5rem",opacity:.7},title:"Reset",children:W.jsx(tA,{size:16})}),q&&!g&&W.jsxs("div",{style:{position:"absolute",top:"120%",right:0,background:"#2A2A2A",border:"1px solid rgba(255,255,255,0.1)",padding:"1rem",borderRadius:"12px",zIndex:100,boxShadow:"0 10px 40px rgba(0,0,0,0.5)",minWidth:"220px",display:"flex",flexDirection:"column",gap:"1rem"},children:[W.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[W.jsx("h4",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Set Duration"}),W.jsx("button",{onClick:()=>$(!1),children:W.jsx(K_,{size:16})})]}),W.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[W.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[W.jsx("input",{type:"number",value:Q,onChange:M=>K(Math.max(0,parseInt(M.target.value)||0)),style:{width:"50px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"4px",padding:"4px",color:"white",textAlign:"center"}}),W.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"4px"},children:"Hrs"})]}),W.jsx("span",{children:":"}),W.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[W.jsx("input",{type:"number",value:et,onChange:M=>lt(Math.max(0,parseInt(M.target.value)||0)),style:{width:"50px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"4px",padding:"4px",color:"white",textAlign:"center"}}),W.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"4px"},children:"Mins"})]})]}),W.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",justifyContent:"center"},children:[15,25,30,45,60].map(M=>W.jsxs("button",{onClick:()=>b(M),style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"4px",padding:"4px 8px",fontSize:"0.8rem",color:"var(--text-primary)"},children:[M,"m"]},M))}),W.jsx("button",{onClick:C,style:{background:"var(--accent-green)",color:"black",fontWeight:"600",borderRadius:"6px",padding:"0.6rem",marginTop:"0.5rem"},children:"Set Time"})]})]}),_&&W.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(18, 18, 18, 0.95)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white"},children:[W.jsx("button",{onClick:ut,style:{position:"absolute",top:"2rem",right:"2rem",background:"transparent",color:"var(--text-secondary)",padding:"1rem",cursor:"pointer"},children:W.jsx(K_,{size:32})}),W.jsxs("h2",{style:{fontSize:"2.5rem",marginBottom:"2rem",maxWidth:"80%",textAlign:"center",color:"var(--text-secondary)"},children:["Focusing on: ",W.jsx("br",{}),W.jsx("span",{style:{color:"white",fontWeight:"700"},children:i})]}),W.jsx("div",{style:{fontSize:"12rem",fontFamily:"monospace",fontWeight:"700",color:c<60?"var(--accent-red)":"var(--accent-blue)",marginBottom:"4rem",lineHeight:1},children:N(c)}),W.jsxs("div",{style:{display:"flex",gap:"2rem",marginBottom:"3rem"},children:[W.jsxs("button",{onClick:g?Xt:zt,style:{background:"rgba(255,255,255,0.1)",color:"white",padding:"1rem 3rem",borderRadius:"50px",fontSize:"1.5rem",display:"flex",alignItems:"center",gap:"1rem"},children:[g?W.jsx(Q_,{size:24}):W.jsx(JS,{size:24}),g?"Pause":"Resume"]}),W.jsxs("button",{onClick:I,style:{background:"var(--accent-green)",color:"black",padding:"1rem 3rem",borderRadius:"50px",fontSize:"1.5rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"1rem"},children:[W.jsx(Tm,{size:24}),"Task Completed"]})]}),W.jsxs("div",{style:{display:"flex",gap:"1rem",background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"50px"},children:[W.jsxs("button",{onClick:()=>x("brown"),style:{display:"flex",alignItems:"center",gap:"8px",background:A==="brown"?"var(--text-primary)":"transparent",color:A==="brown"?"black":"var(--text-secondary)",border:"1px solid rgba(255,255,255,0.1)",padding:"0.8rem 1.5rem",borderRadius:"30px"},children:[W.jsx(rA,{size:20})," Deep Focus"]}),W.jsxs("button",{onClick:()=>x("rain"),style:{display:"flex",alignItems:"center",gap:"8px",background:A==="rain"?"#2979FF":"transparent",color:A==="rain"?"white":"var(--text-secondary)",border:"1px solid rgba(255,255,255,0.1)",padding:"0.8rem 1.5rem",borderRadius:"30px"},children:[W.jsx(GS,{size:20})," Rain"]})]})]})]})},uA=({task:r,onToggle:t,onDelete:i,onUpdateTimer:a,onToggleFrog:l,onSaveTimer:c})=>W.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",background:r.isFrog?"rgba(255, 235, 59, 0.05)":"rgba(255,255,255,0.03)",borderRadius:"12px",marginBottom:"1rem",transition:"all 0.3s ease",borderLeft:r.completed?"4px solid var(--accent-green)":r.isFrog?"4px solid #FFEB3B":"4px solid transparent",transform:r.isFrog?"scale(1.01)":"scale(1)",border:r.isFrog?"1px solid rgba(255, 235, 59, 0.2)":"none"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",flex:1},children:[W.jsx("button",{onClick:()=>t(r.id),style:{width:"32px",height:"32px",borderRadius:"50%",border:`2px solid ${r.completed?"var(--accent-green)":"var(--text-secondary)"}`,background:r.completed?"var(--accent-green)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",color:"#000",flexShrink:0},children:r.completed&&W.jsx(Tm,{size:20,strokeWidth:3})}),W.jsx("span",{style:{fontSize:"32px",fontWeight:"600",color:r.completed?"var(--text-secondary)":r.isFrog?"#FFEB3B":"var(--text-primary)",textDecoration:r.completed?"line-through":"none",transition:"all 0.3s ease",wordBreak:"break-word",lineHeight:"1.2"},children:r.text})]}),W.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginLeft:"2rem"},children:[W.jsx("button",{onClick:l,style:{color:r.isFrog?"#FFEB3B":"var(--text-secondary)",opacity:r.isFrog?1:.4,transition:"all 0.2s",padding:"0.4rem",fontSize:"1.2rem",background:"transparent",border:"none",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center"},title:r.isFrog?"Unmark priority":"Eat this Frog (Priority)",children:W.jsx("span",{children:""})}),W.jsx(lA,{initialTime:r.timeRemaining||0,taskText:r.text,onTimeUpdate:d=>a(r.id,d),onSaveTimer:d=>c&&c(d),onComplete:()=>t(r.id)}),W.jsx("button",{onClick:()=>i(r.id),style:{color:"var(--text-secondary)",opacity:.5,padding:"0.5rem"},children:W.jsx(nA,{size:20})})]})]}),I0=()=>new Date().toISOString().split("T")[0],Qd="todo_current_tasks",Vd="todo_last_open_date",Kd="todo_history",cA=()=>{try{const r=I0(),t=localStorage.getItem(Vd);let i=[];try{i=JSON.parse(localStorage.getItem(Qd)||"[]")}catch(a){console.error("Error parsing tasks",a),i=[]}return t&&t!==r?(fA(t,i),localStorage.setItem(Vd,r),localStorage.setItem(Qd,JSON.stringify([])),[]):(t||localStorage.setItem(Vd,r),i)}catch(r){return console.error("Critical Storage Error:",r),[]}},hA=r=>{try{localStorage.setItem(Qd,JSON.stringify(r))}catch(t){console.error("Failed to save tasks",t)}},fA=(r,t)=>{if(t.length!==0)try{const i=JSON.parse(localStorage.getItem(Kd)||"{}");i[r]=t,localStorage.setItem(Kd,JSON.stringify(i))}catch(i){console.error("Failed to archive",i)}},dA=()=>{try{return JSON.parse(localStorage.getItem(Kd)||"{}")}catch{return{}}},Y_="todo_streak_data",mA=r=>{try{const t=I0(),i=JSON.parse(localStorage.getItem(Y_)||'{"current": 0, "lastDate": null}');if(i.lastDate===t)return i.current;const a=new Date;a.setDate(a.getDate()-1);const l=a.toISOString().split("T")[0];return i.lastDate===l?i.current+=1:i.current=1,i.lastDate=t,localStorage.setItem(Y_,JSON.stringify(i)),i.current}catch(t){return console.error("Streak Error",t),0}},gA=()=>{};var X_={};const C0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},pA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(D=64)),a.push(i[S],i[A],i[D],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(C0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):pA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new yA;const D=c<<2|g>>4;if(a.push(D),_!==64){const q=g<<4&240|_>>2;if(a.push(q),A!==64){const $=_<<6&192|A;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _A=function(r){const t=C0(r);return D0.encodeByteArray(t,!0)},Hc=function(r){return _A(r).replace(/\./g,"")},N0=function(r){try{return D0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function vA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const EA=()=>vA().__FIREBASE_DEFAULTS__,TA=()=>{if(typeof process>"u"||typeof X_>"u")return;const r=X_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&N0(r[1]);return t&&JSON.parse(t)},uh=()=>{try{return gA()||EA()||TA()||SA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},O0=r=>uh()?.emulatorHosts?.[r],AA=r=>{const t=O0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},M0=()=>uh()?.config,V0=r=>uh()?.[`_${r}`];class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x0(r){return(await fetch(r,{credentials:"include"})).ok}function wA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Rl={};function RA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function IA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let J_=!1;function k0(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Rl[r]===t||Rl[r]||J_)return;Rl[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=RA().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{J_=!0,d()},D}function S(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function A(){const D=IA(a),q=i("text"),$=document.getElementById(q)||document.createElement("span"),Q=i("learnmore"),K=document.getElementById(Q)||document.createElement("a"),et=i("preprendIcon"),lt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ut=D.element;g(ut),S(K,Q);const zt=_();y(lt,et),ut.append(lt,$,K,zt),document.body.appendChild(ut)}c?($.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function DA(){const r=uh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function MA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VA(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function UA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const LA="FirebaseError";class rr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=LA,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?PA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new rr(l,g,a)}}function PA(r,t){return r.replace(zA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const zA=/\{\$([^}]+)}/g;function BA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Z_(c)&&Z_(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z_(r){return r!==null&&typeof r=="object"}function jl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function jA(r,t){const i=new qA(r,t);return i.subscribe.bind(i)}class qA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");HA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=xd),l.error===void 0&&(l.error=xd),l.complete===void 0&&(l.complete=xd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function xd(){}function Ke(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class FA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new bA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(QA(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:GA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GA(r){return r===Ls?void 0:r}function QA(r){return r.instantiationMode==="EAGER"}class KA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new FA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const YA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},XA=Dt.INFO,JA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},ZA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=JA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=XA,this._logHandler=ZA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const $A=(r,t)=>t.some(i=>r instanceof i);let $_,W_;function WA(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tb(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,Yd=new WeakMap,L0=new WeakMap,kd=new WeakMap,Am=new WeakMap;function eb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&U0.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function nb(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||L0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ib(r){Xd=r(Xd)}function rb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return L0.set(a,t.sort?t.sort():[t]),Qr(a)}:tb().includes(r)?function(...t){return r.apply(Ud(this),t),Qr(U0.get(this))}:function(...t){return Qr(r.apply(Ud(this),t))}}function sb(r){return typeof r=="function"?rb(r):(r instanceof IDBTransaction&&nb(r),$A(r,WA())?new Proxy(r,Xd):r)}function Qr(r){if(r instanceof IDBRequest)return eb(r);if(kd.has(r))return kd.get(r);const t=sb(r);return t!==r&&(kd.set(r,t),Am.set(t,r)),t}const Ud=r=>Am.get(r);function ab(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Qr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Qr(d.result),y.oldVersion,y.newVersion,Qr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const ob=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Ld=new Map;function tv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=lb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||ob.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Ld.set(t,c),c}ib(r=>({...r,get:(t,i,a)=>tv(t,i)||r.get(t,i,a),has:(t,i)=>!!tv(t,i)||r.has(t,i)}));class ub{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(cb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function cb(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",ev="0.14.6";const Wi=new Sm("@firebase/app"),hb="@firebase/app-compat",fb="@firebase/analytics-compat",db="@firebase/analytics",mb="@firebase/app-check-compat",gb="@firebase/app-check",pb="@firebase/auth",yb="@firebase/auth-compat",_b="@firebase/database",vb="@firebase/data-connect",Eb="@firebase/database-compat",Tb="@firebase/functions",Sb="@firebase/functions-compat",Ab="@firebase/installations",bb="@firebase/installations-compat",wb="@firebase/messaging",Rb="@firebase/messaging-compat",Ib="@firebase/performance",Cb="@firebase/performance-compat",Db="@firebase/remote-config",Nb="@firebase/remote-config-compat",Ob="@firebase/storage",Mb="@firebase/storage-compat",Vb="@firebase/firestore",xb="@firebase/ai",kb="@firebase/firestore-compat",Ub="firebase",Lb="12.6.0";const Zd="[DEFAULT]",Pb={[Jd]:"fire-core",[hb]:"fire-core-compat",[db]:"fire-analytics",[fb]:"fire-analytics-compat",[gb]:"fire-app-check",[mb]:"fire-app-check-compat",[pb]:"fire-auth",[yb]:"fire-auth-compat",[_b]:"fire-rtdb",[vb]:"fire-data-connect",[Eb]:"fire-rtdb-compat",[Tb]:"fire-fn",[Sb]:"fire-fn-compat",[Ab]:"fire-iid",[bb]:"fire-iid-compat",[wb]:"fire-fcm",[Rb]:"fire-fcm-compat",[Ib]:"fire-perf",[Cb]:"fire-perf-compat",[Db]:"fire-rc",[Nb]:"fire-rc-compat",[Ob]:"fire-gcs",[Mb]:"fire-gcs-compat",[Vb]:"fire-fst",[kb]:"fire-fst-compat",[xb]:"fire-vertex","fire-js":"fire-js",[Ub]:"fire-js-all"};const Fc=new Map,zb=new Map,$d=new Map;function nv(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ja(r){const t=r.name;if($d.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,r);for(const i of Fc.values())nv(i,r);for(const i of zb.values())nv(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Ai(r){return r==null?!1:r.settings!==void 0}const Bb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new Bl("app","Firebase",Bb);class jb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const ao=Lb;function P0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Zd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=M0()),!i)throw Kr.create("no-options");const c=Fc.get(l);if(c){if(Hs(i,c.options)&&Hs(a,c.config))return c;throw Kr.create("duplicate-app",{appName:l})}const d=new KA(l);for(const y of $d.values())d.addComponent(y);const g=new jb(i,a,d);return Fc.set(l,g),g}function z0(r=Zd){const t=Fc.get(r);if(!t&&r===Zd&&M0())return P0();if(!t)throw Kr.create("no-app",{appName:r});return t}function Yr(r,t,i){let a=Pb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Ja(new Fs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const qb="firebase-heartbeat-database",Hb=1,Ml="firebase-heartbeat-store";let Pd=null;function B0(){return Pd||(Pd=ab(qb,Hb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw Kr.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function Fb(r){try{const i=(await B0()).transaction(Ml),a=await i.objectStore(Ml).get(j0(r));return await i.done,a}catch(t){if(t instanceof rr)Wi.warn(t.message);else{const i=Kr.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function iv(r,t){try{const a=(await B0()).transaction(Ml,"readwrite");await a.objectStore(Ml).put(t,j0(r)),await a.done}catch(i){if(i instanceof rr)Wi.warn(i.message);else{const a=Kr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function j0(r){return`${r.name}!${r.options.appId}`}const Gb=1024,Qb=30;class Kb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Xb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Qb){const l=Jb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:a}=Yb(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function Yb(r,t=Gb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Xb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?UA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Fb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function sv(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function Jb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Zb(r){Ja(new Fs("platform-logger",t=>new ub(t),"PRIVATE")),Ja(new Fs("heartbeat",t=>new Kb(t),"PRIVATE")),Yr(Jd,ev,r),Yr(Jd,ev,"esm2020"),Yr("fire-js","")}Zb("");var $b="firebase",Wb="12.7.0";Yr($b,Wb,"app");function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tw=q0,H0=new Bl("auth","Firebase",q0());const Gc=new Sm("@firebase/auth");function ew(r,...t){Gc.logLevel<=Dt.WARN&&Gc.warn(`Auth (${ao}): ${r}`,...t)}function Vc(r,...t){Gc.logLevel<=Dt.ERROR&&Gc.error(`Auth (${ao}): ${r}`,...t)}function tr(r,...t){throw wm(r,...t)}function bi(r,...t){return wm(r,...t)}function F0(r,t,i){const a={...tw(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:r.name})}function Bs(r){return F0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return H0.create(r,...t)}function pt(r,t,...i){if(!r)throw wm(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function er(r,t){r||Zi(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function nw(){return av()==="http:"||av()==="https:"}function av(){return typeof self<"u"&&self.location?.protocol||null}function iw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nw()||OA()||"connection"in navigator)?navigator.onLine:!0}function rw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,er(i>t,"Short delay should be less than long delay!"),this.isMobile=CA()||MA()}get(){return iw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,t){er(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class G0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ow=new ql(3e4,6e4);function Im(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function oo(r,t,i,a,l={}){return Q0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=jl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return NA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(_.credentials="include"),G0.fetch()(await K0(r,r.config.apiHost,i,g),_)})}async function Q0(r,t,i){r._canInitEmulator=!1;const a={...sw,...t};try{const l=new uw(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(r,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw F0(r,S,_);tr(r,S)}}catch(l){if(l instanceof rr)throw l;tr(r,"network-request-failed",{message:String(l)})}}async function lw(r,t,i,a,l={}){const c=await oo(r,t,i,a,l);return"mfaPendingCredential"in c&&tr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function K0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,l):`${r.config.apiScheme}://${l}`;return aw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class uw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),ow.get())})}}function Ic(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(r,t,a);return l.customData._tokenResponse=i,l}async function cw(r,t){return oo(r,"POST","/v1/accounts:delete",t)}async function Qc(r,t){return oo(r,"POST","/v1/accounts:lookup",t)}function Il(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hw(r,t=!1){const i=Ke(r),a=await i.getIdToken(t),l=Cm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Il(zd(l.auth_time)),issuedAtTime:Il(zd(l.iat)),expirationTime:Il(zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function zd(r){return Number(r)*1e3}function Cm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=N0(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function ov(r){const t=Cm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof rr&&fw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function fw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class dw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(r){const t=r.auth,i=await r.getIdToken(),a=await Vl(r,Qc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Y0(l.providerUserInfo):[],d=gw(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function mw(r){const t=Ke(r);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gw(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Y0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function pw(r,t){const i=await Q0(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await K0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),G0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function yw(r,t){return oo(r,"POST","/v2/accounts:revokeToken",Im(r,t))}class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=ov(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await pw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ga;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function zr(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new dw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return hw(this,t)}reload(){return mw(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ai(this.auth.app))return Promise.reject(Bs(this.auth));const t=await this.getIdToken();return await Vl(this,cw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:D,isAnonymous:q,providerData:$,stsTokenManager:Q}=i;pt(A&&Q,t,"internal-error");const K=Ga.fromJSON(this.name,Q);pt(typeof A=="string",t,"internal-error"),zr(a,t.name),zr(l,t.name),pt(typeof D=="boolean",t,"internal-error"),pt(typeof q=="boolean",t,"internal-error"),zr(c,t.name),zr(d,t.name),zr(g,t.name),zr(y,t.name),zr(_,t.name),zr(S,t.name);const et=new Jn({uid:A,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:K,createdAt:_,lastLoginAt:S});return $&&Array.isArray($)&&(et.providerData=$.map(lt=>({...lt}))),y&&(et._redirectEventId=y),et}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ga;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Y0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ga;g.updateFromIdToken(a);const y=new Jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const lv=new Map;function $i(r){er(r instanceof Function,"Expected a class definition");let t=lv.get(r);return t?(er(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,lv.set(r,t),t)}class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}X0.type="NONE";const uv=X0;function xc(r,t,i){return`firebase:${r}:${t}:${i}`}class Qa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=xc(this.userKey,l.apiKey,c),this.fullPersistenceKey=xc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Qa($i(uv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||$i(uv);const d=xc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const D=await Qc(t,{idToken:S}).catch(()=>{});if(!D)break;A=await Jn._fromGetAccountInfoResponse(t,D,S)}else A=Jn._fromJSON(t,S);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Qa(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Qa(c,t,a))}}function cv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(W0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eE(t))return"Blackberry";if(nE(t))return"Webos";if(Z0(t))return"Safari";if((t.includes("chrome/")||$0(t))&&!t.includes("edge/"))return"Chrome";if(tE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function J0(r=We()){return/firefox\//i.test(r)}function Z0(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $0(r=We()){return/crios\//i.test(r)}function W0(r=We()){return/iemobile/i.test(r)}function tE(r=We()){return/android/i.test(r)}function eE(r=We()){return/blackberry/i.test(r)}function nE(r=We()){return/webos/i.test(r)}function Dm(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _w(r=We()){return Dm(r)&&!!window.navigator?.standalone}function vw(){return VA()&&document.documentMode===10}function iE(r=We()){return Dm(r)||tE(r)||nE(r)||eE(r)||/windows phone/i.test(r)||W0(r)}function rE(r,t=[]){let i;switch(r){case"Browser":i=cv(We());break;case"Worker":i=`${cv(We())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${a}`}class Ew{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Tw(r,t={}){return oo(r,"GET","/v2/passwordPolicy",Im(r,t))}const Sw=6;class Aw{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Sw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class bw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new Ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ai(this.app))return Promise.reject(Bs(this));const i=t?Ke(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ai(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ai(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Tw(this),i=new Aw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await yw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ew(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Nm(r){return Ke(r)}class hv{constructor(t){this.auth=t,this.observer=null,this.addObserver=jA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ww(r){Om=r}function Rw(r){return Om.loadJS(r)}function Iw(){return Om.gapiScript}function Cw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Dw(r,t){const i=bm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;tr(l,"already-initialized")}return i.initialize({options:t})}function Nw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Ow(r,t,i){const a=Nm(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=sE(t),{host:d,port:g}=Mw(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Hs(_,a.config.emulator)&&Hs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,so(d)?(x0(`${c}//${d}${y}`),k0("Auth",!0)):Vw()}function sE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Mw(r){const t=sE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:fv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:fv(d)}}}function fv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Vw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class aE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Ka(r,t){return lw(r,"POST","/v1/accounts:signInWithIdp",Im(r,t))}const xw="http://localhost";class Gs extends aE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):tr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Gs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ka(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ka(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ka(t,i)}buildRequest(){const t={requestUri:xw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class oE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends oE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class jr extends Hl{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class Ji extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Gs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ji.credentialFromTaggedObject(t)}static credentialFromError(t){return Ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ji.credential(i,a)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class qr extends Hl{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Hr extends Hl{constructor(){super("twitter.com")}static credential(t,i){return Gs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hr.credential(i,a)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=dv(a);return new Za({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=dv(a);return new Za({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Yc extends rr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Yc(t,i,a,l)}}function lE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(r,c,t,a):c})}async function kw(r,t,i=!1){const a=await Vl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Za._forOperation(r,"link",a)}async function Uw(r,t,i=!1){const{auth:a}=r;if(Ai(a.app))return Promise.reject(Bs(a));const l="reauthenticate";try{const c=await Vl(r,lE(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=Cm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(r.uid===g,a,"user-mismatch"),Za._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&tr(a,"user-mismatch"),c}}async function Lw(r,t,i=!1){if(Ai(r.app))return Promise.reject(Bs(r));const a="signIn",l=await lE(r,a,t),c=await Za._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function Pw(r,t,i,a){return Ke(r).onIdTokenChanged(t,i,a)}function zw(r,t,i){return Ke(r).beforeAuthStateChanged(t,i)}function Bw(r,t,i,a){return Ke(r).onAuthStateChanged(t,i,a)}const Xc="__sak";class uE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jw=1e3,qw=10;class cE extends uE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);vw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,qw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}cE.type="LOCAL";const Hw=cE;class hE extends uE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}hE.type="SESSION";const fE=hE;function Fw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await Fw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];function Mm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class Gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Mm("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const D=A;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wi(){return window}function Qw(r){wi().location.href=r}function dE(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function Kw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yw(){return navigator?.serviceWorker?.controller||null}function Xw(){return dE()?self:null}const mE="firebaseLocalStorageDb",Jw=1,Jc="firebaseLocalStorage",gE="fbase_key";class Fl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function Zw(){const r=indexedDB.deleteDatabase(mE);return new Fl(r).toPromise()}function em(){const r=indexedDB.open(mE,Jw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jc,{keyPath:gE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await Zw(),t(await em()))})})}async function mv(r,t,i){const a=hh(r,!0).put({[gE]:t,value:i});return new Fl(a).toPromise()}async function $w(r,t){const i=hh(r,!1).get(t),a=await new Fl(i).toPromise();return a===void 0?null:a.value}function gv(r,t){const i=hh(r,!0).delete(t);return new Fl(i).toPromise()}const Ww=800,tR=3;class pE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>tR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(Xw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Kw(),!this.activeServiceWorker)return;this.sender=new Gw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Yw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await mv(t,Xc,"1"),await gv(t,Xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>mv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>$w(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>gv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=hh(l,!1).getAll();return new Fl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pE.type="LOCAL";const eR=pE;new ql(3e4,6e4);function nR(r,t){return t?$i(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Vm extends aE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ka(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ka(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ka(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function iR(r){return Lw(r.auth,new Vm(r),r.bypassAuthState)}function rR(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),Uw(i,new Vm(r),r.bypassAuthState)}async function sR(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),kw(i,new Vm(r),r.bypassAuthState)}class yE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iR;case"linkViaPopup":case"linkViaRedirect":return sR;case"reauthViaPopup":case"reauthViaRedirect":return rR;default:tr(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aR=new ql(2e3,1e4);class Fa extends yE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aR.get())};t()}}Fa.currentPopupAction=null;const oR="pendingRedirect",kc=new Map;class lR extends yE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await uR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uR(r,t){const i=fR(t),a=hR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function cR(r,t){kc.set(r._key(),t)}function hR(r){return $i(r._redirectPersistence)}function fR(r){return xc(oR,r.config.apiKey,r.name)}async function dR(r,t,i=!1){if(Ai(r.app))return Promise.reject(Bs(r));const a=Nm(r),l=nR(a,t),d=await new lR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const mR=600*1e3;class gR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!_E(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mR&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(t))}saveEventToCache(t){this.cachedEventUids.add(pv(t)),this.lastProcessedEventTime=Date.now()}}function pv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function _E({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function pR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _E(r);default:return!1}}async function yR(r,t={}){return oo(r,"GET","/v1/projects",t)}const _R=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vR=/^https?/;async function ER(r){if(r.config.emulator)return;const{authorizedDomains:t}=await yR(r);for(const i of t)try{if(TR(i))return}catch{}tr(r,"unauthorized-domain")}function TR(r){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!vR.test(i))return!1;if(_R.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const SR=new ql(3e4,6e4);function yv(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function AR(r){return new Promise((t,i)=>{function a(){yv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yv(),i(bi(r,"network-request-failed"))},timeout:SR.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)a();else{const l=Cw("iframefcb");return wi()[l]=()=>{gapi.load?a():i(bi(r,"network-request-failed"))},Rw(`${Iw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function bR(r){return Uc=Uc||AR(r),Uc}const wR=new ql(5e3,15e3),RR="__/auth/iframe",IR="emulator/auth/iframe",CR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NR(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Rm(t,IR):`https://${r.config.authDomain}/${RR}`,a={apiKey:t.apiKey,appName:r.name,v:ao},l=DR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jl(a).slice(1)}`}async function OR(r){const t=await bR(r),i=wi().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:NR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),g=wi().setTimeout(()=>{c(d)},wR.get());function y(){wi().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const MR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VR=500,xR=600,kR="_blank",UR="http://localhost";class _v{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LR(r,t,i,a=VR,l=xR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...MR,width:a.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();i&&(g=$0(_)?kR:i),J0(_)&&(t=t||UR,y.scrollbars="yes");const S=Object.entries(y).reduce((D,[q,$])=>`${D}${q}=${$},`,"");if(_w(_)&&g!=="_self")return PR(t||"",g),new _v(null);const A=window.open(t||"",g,S);pt(A,r,"popup-blocked");try{A.focus()}catch{}return new _v(A)}function PR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const zR="__/auth/handler",BR="emulator/auth/handler",jR=encodeURIComponent("fac");async function vv(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ao,eventId:l};if(t instanceof oE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",BA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof Hl){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await r._getAppCheckToken(),_=y?`#${jR}=${encodeURIComponent(y)}`:"";return`${qR(r)}?${jl(g).slice(1)}${_}`}function qR({config:r}){return r.emulator?Rm(r,BR):`https://${r.authDomain}/${zR}`}const Bd="webStorageSupport";class HR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fE,this._completeRedirectFn=dR,this._overrideRedirectResult=cR}async _openPopup(t,i,a,l){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await vv(t,i,a,Wd(),l);return LR(t,c,Mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await vv(t,i,a,Wd(),l);return Qw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(er(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await OR(t),a=new gR(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),tr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ER(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return iE()||Z0()||Dm()}}const FR=HR;var Ev="@firebase/auth",Tv="1.12.0";class GR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KR(r){Ja(new Fs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(r)},_=new bw(a,l,c,y);return Nw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ja(new Fs("auth-internal",t=>{const i=Nm(t.getProvider("auth").getImmediate());return(a=>new GR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(Ev,Tv,QR(r)),Yr(Ev,Tv,"esm2020")}const YR=300,XR=V0("authIdTokenMaxAge")||YR;let Sv=null;const JR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>XR)return;const l=i?.token;Sv!==l&&(Sv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ZR(r=z0()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Dw(r,{popupRedirectResolver:FR,persistence:[eR,Hw,fE]}),a=V0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=JR(c.toString());zw(i,d,()=>d(i.currentUser)),Pw(i,g=>d(g))}}const l=O0("auth");return l&&Ow(i,`http://${l}`),i}function $R(){return document.getElementsByTagName("head")?.[0]??document}ww({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",$R().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KR("Browser");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,vE;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(x,N,M){for(var w=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)w[qt-2]=arguments[qt];return b.prototype[N].apply(x,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const x=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)x[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)x[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let M=C.g[3],w;w=b+(M^I&(N^M))+x[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=M+(N^b&(I^N))+x[1]+3905402710&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(I^M&(b^I))+x[2]+606105819&4294967295,N=M+(w<<17&4294967295|w>>>15),w=I+(b^N&(M^b))+x[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(M^I&(N^M))+x[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=M+(N^b&(I^N))+x[5]+1200080426&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(I^M&(b^I))+x[6]+2821735955&4294967295,N=M+(w<<17&4294967295|w>>>15),w=I+(b^N&(M^b))+x[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(M^I&(N^M))+x[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=M+(N^b&(I^N))+x[9]+2336552879&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(I^M&(b^I))+x[10]+4294925233&4294967295,N=M+(w<<17&4294967295|w>>>15),w=I+(b^N&(M^b))+x[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(M^I&(N^M))+x[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=M+(N^b&(I^N))+x[13]+4254626195&4294967295,M=b+(w<<12&4294967295|w>>>20),w=N+(I^M&(b^I))+x[14]+2792965006&4294967295,N=M+(w<<17&4294967295|w>>>15),w=I+(b^N&(M^b))+x[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^M&(I^N))+x[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=M+(I^N&(b^I))+x[6]+3225465664&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(M^b))+x[11]+643717713&4294967295,N=M+(w<<14&4294967295|w>>>18),w=I+(M^b&(N^M))+x[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^M&(I^N))+x[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=M+(I^N&(b^I))+x[10]+38016083&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(M^b))+x[15]+3634488961&4294967295,N=M+(w<<14&4294967295|w>>>18),w=I+(M^b&(N^M))+x[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^M&(I^N))+x[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=M+(I^N&(b^I))+x[14]+3275163606&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(M^b))+x[3]+4107603335&4294967295,N=M+(w<<14&4294967295|w>>>18),w=I+(M^b&(N^M))+x[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^M&(I^N))+x[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=M+(I^N&(b^I))+x[2]+4243563512&4294967295,M=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(M^b))+x[7]+1735328473&4294967295,N=M+(w<<14&4294967295|w>>>18),w=I+(M^b&(N^M))+x[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^M)+x[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=M+(b^I^N)+x[8]+2272392833&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^I)+x[11]+1839030562&4294967295,N=M+(w<<16&4294967295|w>>>16),w=I+(N^M^b)+x[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^M)+x[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=M+(b^I^N)+x[4]+1272893353&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^I)+x[7]+4139469664&4294967295,N=M+(w<<16&4294967295|w>>>16),w=I+(N^M^b)+x[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^M)+x[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=M+(b^I^N)+x[0]+3936430074&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^I)+x[3]+3572445317&4294967295,N=M+(w<<16&4294967295|w>>>16),w=I+(N^M^b)+x[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^M)+x[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=M+(b^I^N)+x[12]+3873151461&4294967295,M=b+(w<<11&4294967295|w>>>21),w=N+(M^b^I)+x[15]+530742520&4294967295,N=M+(w<<16&4294967295|w>>>16),w=I+(N^M^b)+x[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~M))+x[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=M+(I^(b|~N))+x[7]+1126891415&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~I))+x[14]+2878612391&4294967295,N=M+(w<<15&4294967295|w>>>17),w=I+(M^(N|~b))+x[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~M))+x[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=M+(I^(b|~N))+x[3]+2399980690&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~I))+x[10]+4293915773&4294967295,N=M+(w<<15&4294967295|w>>>17),w=I+(M^(N|~b))+x[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~M))+x[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=M+(I^(b|~N))+x[15]+4264355552&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~I))+x[6]+2734768916&4294967295,N=M+(w<<15&4294967295|w>>>17),w=I+(M^(N|~b))+x[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~M))+x[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=M+(I^(b|~N))+x[11]+3174756917&4294967295,M=b+(w<<10&4294967295|w>>>22),w=N+(b^(M|~I))+x[2]+718787259&4294967295,N=M+(w<<15&4294967295|w>>>17),w=I+(M^(N|~b))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+M&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,x=this.C;let N=this.h,M=0;for(;M<b;){if(N==0)for(;M<=I;)l(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<b;)if(x[N++]=C.charCodeAt(M++),N==this.blockSize){l(this,x),N=0;break}}else for(;M<b;)if(x[N++]=C[M++],N==this.blockSize){l(this,x),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)C[b++]=this.g[I]>>>x&255;return C};function c(C,b){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let x=!0;for(let N=C.length-1;N>=0;N--){const M=C[N]|0;x&&M==b||(I[N]=M,x=!1)}this.g=I}var g={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return K(_(-C));const b=[];let I=1;for(let x=0;C>=I;x++)b[x]=C/I|0,I*=4294967296;return new d(b,0)}function S(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return K(S(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let x=A;for(let M=0;M<C.length;M+=8){var N=Math.min(8,C.length-M);const w=parseInt(C.substring(M,M+N),b);N<8?(N=_(Math.pow(b,N)),x=x.j(N).add(_(w))):(x=x.j(I),x=x.add(_(w)))}return x}var A=y(0),D=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(Q(this))return-K(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);C+=(x>=0?x:4294967296+x)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if($(this))return"0";if(Q(this))return"-"+K(this).toString(C);const b=_(Math.pow(C,6));var I=this;let x="";for(;;){const N=zt(I,b).g;I=et(I,N.j(b));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,$(I))return M+x;for(;M.length<6;)M="0"+M;x=M+x}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function $(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=et(this,C),Q(C)?-1:$(C)?0:1};function K(C){const b=C.g.length,I=[];for(let x=0;x<b;x++)I[x]=~C.g[x];return new d(I,~C.h).add(D)}r.abs=function(){return Q(this)?K(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let x=0;for(let N=0;N<=b;N++){let M=x+(this.i(N)&65535)+(C.i(N)&65535),w=(M>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);x=w>>>16,M&=65535,w&=65535,I[N]=w<<16|M}return new d(I,I[I.length-1]&-2147483648?-1:0)};function et(C,b){return C.add(K(b))}r.j=function(C){if($(this)||$(C))return A;if(Q(this))return Q(C)?K(this).j(K(C)):K(K(this).j(C));if(Q(C))return K(this.j(K(C)));if(this.l(q)<0&&C.l(q)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var x=0;x<2*b;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let N=0;N<C.g.length;N++){const M=this.i(x)>>>16,w=this.i(x)&65535,qt=C.i(N)>>>16,ue=C.i(N)&65535;I[2*x+2*N]+=w*ue,lt(I,2*x+2*N),I[2*x+2*N+1]+=M*ue,lt(I,2*x+2*N+1),I[2*x+2*N+1]+=w*qt,lt(I,2*x+2*N+1),I[2*x+2*N+2]+=M*qt,lt(I,2*x+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function lt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ut(C,b){this.g=C,this.h=b}function zt(C,b){if($(b))throw Error("division by zero");if($(C))return new ut(A,A);if(Q(C))return b=zt(K(C),b),new ut(K(b.g),K(b.h));if(Q(b))return b=zt(C,K(b)),new ut(K(b.g),b.h);if(C.g.length>30){if(Q(C)||Q(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,x=b;x.l(C)<=0;)I=Xt(I),x=Xt(x);var N=Mt(I,1),M=Mt(x,1);for(x=Mt(x,2),I=Mt(I,2);!$(x);){var w=M.add(x);w.l(C)<=0&&(N=N.add(I),M=w),x=Mt(x,1),I=Mt(I,1)}return b=et(C,N.j(b)),new ut(N,b)}for(N=A;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),M=_(I),w=M.j(b);Q(w)||w.l(C)>0;)I-=x,M=_(I),w=M.j(b);$(M)&&(M=D),N=N.add(M),C=et(C,w)}return new ut(N,C)}r.B=function(C){return zt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)&C.i(x);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)|C.i(x);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let x=0;x<b;x++)I[x]=this.i(x)^C.i(x);return new d(I,this.h^C.h)};function Xt(C){const b=C.g.length+1,I=[];for(let x=0;x<b;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new d(I,C.h)}function Mt(C,b){const I=b>>5;b%=32;const x=C.g.length-I,N=[];for(let M=0;M<x;M++)N[M]=b>0?C.i(M+I)>>>b|C.i(M+I+1)<<32-b:C.i(M+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,vE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Xr=d}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var EE,Tl,TE,Lc,nm,SE,AE,bE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var tt=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)tt[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,tt)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class Q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(u){d.setTimeout(()=>{throw u},0)}function et(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,v){const T=ut.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new Q(()=>new zt,u=>u.reset());class zt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Xt,Mt=!1,C=new lt,b=()=>{const u=Promise.resolve(void 0);Xt=()=>{u.then(I)}};function I(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){K(v)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function qt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(qt,N),qt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&qt.Z.h.call(this)},qt.prototype.h=function(){qt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++F,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<X.length;B++)v=X[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=At(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function At(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,T,U);return null}return v=po(v),u&&u[ue]?u.J(m,v,g(T)?!!T.capture:!1,U):as(u,m,v,!1,T,U)}function as(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const tt=g(U)?!!U.capture:!!U;let Tt=os(u);if(Tt||(u[xt]=Tt=new at(u)),v=Tt.add(m,v,T,tt,B),v.proxy)return v;if(T=Js(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)M||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Js(){function u(v){return m.call(u.src,u.listener,v)}const m=mo;return u}function Zs(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zs(u,m[B],v,T,U);else T=g(T)?!!T.capture:!!T,v=po(v),u&&u[ue]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=At(m,v,T,U),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,v,T,U)),(v=u>-1?m[u]:null)&&$s(v))}function $s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ue])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=os(m))?(yt(v,u),v.h==0&&(v.src=null,m[xt]=null)):dt(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function mo(u,m){if(u.da)u=!0;else{m=new qt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$s(u),u=v.call(T,m)}return u}function os(u){return u=u[xt],u instanceof at?u:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(u){return typeof u=="function"?u:(u[go]||(u[go]=function(m){return u.handleEvent(m)}),u[go])}function ye(){x.call(this),this.i=new at(this),this.M=this,this.G=null}A(ye,x),ye.prototype[ue]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Zs(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(T,u),it(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=sr(B,T,!0,m)&&U;if(B=m.g=u,U=sr(B,T,!0,m)&&U,U=sr(B,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=sr(B,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)dt(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function sr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Tt=tt.listener,de=tt.ha||tt.src;tt.fa&&yt(u.i,tt),U=Tt.call(de,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(u){x.call(this),this.h=u,this.g={}}A(ls,x);var yo=[];function _o(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&$s(m)},u),u.g={}}ls.prototype.N=function(){ls.Z.N.call(this),_o(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Dh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){N.call(this,"d")}A(Pe,N);function An(){N.call(this,"c")}A(An,N);var fe={},nu=null;function Ws(){return nu=nu||new ye}fe.Ia="serverreachability";function iu(u){N.call(this,fe.Ia,u)}A(iu,N);function ti(u){const m=Ws();Oe(m,new iu(m))}fe.STAT_EVENT="statevent";function us(u,m){N.call(this,fe.STAT_EVENT,u),this.stat=m}A(us,N);function _e(u){const m=Ws();Oe(m,new us(m,u))}fe.Ja="timingevent";function ei(u,m){N.call(this,fe.Ja,u),this.size=m}A(ei,N);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var tt="",Tt=B.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var de=Tt[Bt].split("=");if(de.length>1){const ae=de[0];de=de[1];const In=ae.split("_");tt=In.length>=2&&In[1]=="type"?tt+(ae+"="+de+"&"):tt+(ae+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function ru(u,m,v,T,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(T?" "+T:"")})}function cs(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ar(B)}catch{return m}}var hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function fs(){}A(fs,tu),fs.prototype.g=function(){return new XMLHttpRequest},Eo=new fs;function Oi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ve={},xe={};function ri(u,m,v){u.M=1,u.A=ds(Te(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),si(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ra(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(yo[0]=U.toString()),U=yo);for(let B=0;B<U.length;B++){const tt=se(v,U[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Fn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||de==7||(de==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=ou(this,v),ae==xe){Tt==4&&(this.m=4,_e(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(tt),tt.P=!0,_e(11))}}else ii(this.i,this.l,v,null),oi(this,v);Tt==4&&dn(this),this.o&&!this.K&&(Tt==4?pu(this.j,this):(this.o=!1,si(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}};function Mh(u){if(!au(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?xe:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?xe:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function si(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(_(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cs(this.i,this.B),this.M!=2&&(ti(),_e(17)),dn(this),this.m=2,bn(this)):ea(this,this.T-u)};function bn(u){u.j.I==0||u.K||pu(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),mr(v);else break t;Es(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(_(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&ua(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const ae=Bt[0];if(!(ae<=v.K))if(v.K=ae,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const In=Bt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const pi=Bt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Gn=Bt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Qn=u.g;if(Qn){const Ts=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var B=T.h;B.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(T.G){const ca=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Qt(T.J,T.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=vu(T,T.L?T.ba:null,T.W),tt.L){bo(T.h,tt);var Tt=tt,de=T.O;de&&(Tt.H=de),Tt.D&&(ai(Tt),si(Tt)),T.g=tt}else mu(T);v.i.length>0&&mi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(v,7):Vo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ti(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function bo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,or(this,u.u),this.h=u.h,Ro(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),or(this,m[4]),this.h=ci(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ms(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ms(m,ia,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ms(v,v.charAt(0)=="/"?Io:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ms(v,cu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)or(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const Tt=U[tt++];Tt=="."?T&&tt==U.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==U.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Ro(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function ke(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function or(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof ur?(u.i=m,sa(u.i,u.l)):(v||(m=ms(m,lr)),u.i=new ur(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function ds(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ms(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,uu=/[#\?:]/g,Io=/[#\?]/g,lr=/[#\?@]/g,cu=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ur.prototype,r.add=function(u,m){sn(this),this.i=null,u=cr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){sn(u),m=cr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return sn(u),m=cr(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Do(u,m){sn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(cr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=cr(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(cr(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Oi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Oi(v[B])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(hu(this,T),ra(this,U,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=S(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const v=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function hr(){this.g=new Wl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(hi,tu),hi.prototype.g=function(){return new gs(this.i,this.h)};function gs(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gs,ye),r=gs.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):Hn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},r.Na=function(u){this.g&&(this.response=u,fr(this))},r.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ps(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function Jt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Jt,ye);var fi=/^https?$/i,Oo=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ys(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ys(this,B)}};function ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Mi(u)}function Mo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(lu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!fi.test(tt?tt.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=su(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Gt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function dr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=dr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),mi(this)};function Vo(u){if(oa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),vs(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=ds(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}_u(u)}function mr(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function oa(u){mr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Xt||b(),Mt||(Xt(),Mt=!0),C.add(m,u),u.D=0}}function la(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(_(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,U,m),v=Te(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),vs(this,v),B&&(this.R?m="headers="+Oi(Rn(B))+"&"+m:this.u&&ps(v,this.u,B)),Ao(this.h,U),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),U.U=!0,ri(U,v,null)):ri(U,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||So(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),vs(u,T),u.u&&u.o&&ps(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),ri(v,T,m)}function vs(u,m){u.H&&Ut(u.H,function(v,T){Qt(m,T,v)}),u.l&&Ut({},function(v,T){Qt(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const de=["count="+v];Tt==-1?v>0?(Tt=U[0].g,de.push("ofs="+Tt)):Tt=0:de.push("ofs="+Tt);let Bt=!0;for(let ae=0;ae<v;ae++){var B=U[ae].g;const In=U[ae].map;if(B-=Tt,B<0)Tt=Math.max(0,U[ae].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[pi,Gn]of tt){let Qn=Gn;g(Gn)&&(Qn=ar(Gn)),de.push(B+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw de.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(In)}}if(Bt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Xt||b(),Mt||(Xt(),Mt=!0),C.add(m,u),u.A=0}}function Es(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(_(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),mr(this),gu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),vs(u,m),u.u&&u.o&&ps(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ds(Te(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,mr(this),Es(this),_e(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){ua(u),ko(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,bo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Ws(),Oe(T,new ei(T,v)),mi(u)}else mu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&la(u,m)||T==2&&Es(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),ds(T),U?qn(T.toString(),v):No(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),_u(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof mn?Te(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),or(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);T&&ke(B,T),m&&(B.g=m),U&&or(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),vs(u,T),T}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new hi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gr(){}gr.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ye.call(this),this.g=new dr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new xi(this)}A(en,ye),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Vo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ar(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,en.Z.N.call(this)};function Su(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Su,Pe);function Au(){An.call(this),this.status=1}A(Au,An);function xi(u){this.g=u}A(xi,Tu),xi.prototype.ra=function(){Oe(this.g,"a")},xi.prototype.qa=function(u){Oe(this.g,new Su(u))},xi.prototype.pa=function(u){Oe(this.g,new Au)},xi.prototype.oa=function(){Oe(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,bE=function(){return new gr},AE=function(){return Ws()},SE=fe,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Lc=hs,vo.COMPLETE="complete",TE=vo,eu.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Tl=eu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,EE=Jt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const bv="@firebase/firestore",wv="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let lo="12.7.0";const Qs=new Sm("@firebase/firestore");function Ba(){return Qs.logLevel}function rt(r,...t){if(Qs.logLevel<=Dt.DEBUG){const i=t.map(xm);Qs.debug(`Firestore (${lo}): ${r}`,...i)}}function nr(r,...t){if(Qs.logLevel<=Dt.ERROR){const i=t.map(xm);Qs.error(`Firestore (${lo}): ${r}`,...i)}}function $a(r,...t){if(Qs.logLevel<=Dt.WARN){const i=t.map(xm);Qs.warn(`Firestore (${lo}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,wE(r,a,i)}function wE(r,t,i){let a=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw nr(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||wE(t,l,a)}function Et(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends rr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class js{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class RE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class t2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class e2{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new js;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new js,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new js)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new RE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class n2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class i2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new n2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Rv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function s2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=s2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Nt(r,t){return r<t?-1:r>t?1:0}function im(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?Nt(l,c):jd(l)?1:-1}return Nt(r.length,t.length)}const a2=55296,o2=57343;function jd(r){const t=r.charCodeAt(0);return t>=a2&&t<=o2}function Wa(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const Iv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class ee extends Ti{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new st(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const l2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return l2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Qe([Iv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new st(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new st(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new st(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new st(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ee.fromString(t))}static fromName(t){return new ft(ee.fromString(t).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ee(t.slice()))}}function IE(r,t,i){if(!i)throw new st(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function u2(r,t,i,a){if(t===!0&&a===!0)throw new st(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Cv(r){if(!ft.isDocumentKey(r))throw new st(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dv(r){if(ft.isDocumentKey(r))throw new st(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function CE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Jr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new st(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fh(r);throw new st(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Gl(r,t){if(!CE(r))throw new st(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new st(J.INVALID_ARGUMENT,i);return!0}const Nv=-62135596800,Ov=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ov);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new st(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Nv)throw new st(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new st(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Gl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Nv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function c2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new $r(l,ft.empty(),t)}function h2(r){return new $r(r.readTime,r.key,xl)}class $r{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $r(_t.min(),ft.empty(),xl)}static max(){return new $r(_t.max(),ft.empty(),xl)}}function f2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}const d2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function uo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==d2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++g,g===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Z(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function g2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(r){return r.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const Um=-1;function mh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function p2(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const DE="";function y2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Mv(t)),t=_2(r.get(i),t);return Mv(t)}function _2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case DE:i+="";break;default:i+=c}}return i}function Mv(r){return r+DE+""}function Vv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function rs(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function NE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(t){return new xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=v2.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const ME="server_timestamp",VE="__type__",xE="__previous_value__",kE="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[VE]?.stringValue===ME}function gh(r){const t=r.mapValue.fields[xE];return Lm(t)?gh(t):t}function kl(r){const t=Wr(r.mapValue.fields[kE].timestampValue);return new re(t.seconds,t.nanos)}class E2{constructor(t,i,a,l,c,d,g,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const $c="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||$c}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===$c}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const UE="__type__",T2="__max__",Nc={mapValue:{}},LE="__vector__",Wc="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:A2(r)?9007199254740991:S2(r)?10:11:gt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=es(r);if(i!==es(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return kl(r).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Wr(l.timestampValue),g=Wr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ts(l.bytesValue).isEqual(ts(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=pe(l.doubleValue),g=pe(c.doubleValue);return d===g?Zc(d)===Zc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Vv(d)!==Vv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ni(d[y],g[y])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Ll(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function to(r,t){if(r===t)return 0;const i=es(r),a=es(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=pe(c.integerValue||c.doubleValue),y=pe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return kv(r.timestampValue,t.timestampValue);case 4:return kv(kl(r),kl(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=ts(c),y=ts(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Nt(g[_],y[_]);if(S!==0)return S}return Nt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Nt(pe(c.latitude),pe(d.latitude));return g!==0?g:Nt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Uv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Wc]?.arrayValue,S=y[Wc]?.arrayValue,A=Nt(_?.values?.length||0,S?.values?.length||0);return A!==0?A:Uv(_,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let A=0;A<y.length&&A<S.length;++A){const D=im(y[A],S[A]);if(D!==0)return D;const q=to(g[y[A]],_[S[A]]);if(q!==0)return q}return Nt(y.length,S.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function kv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Wr(r),a=Wr(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function Uv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=to(i[l],a[l]);if(c)return c}return Nt(i.length,a.length)}function eo(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Wr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ts(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Pc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return rs(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function Lv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function sm(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function Pv(r){return!!r&&"nullValue"in r}function zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function S2(r){return(r?.mapValue?.fields||{})[UE]?.stringValue===LE}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return rs(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function A2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Qe.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){rs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new fn(Cl(this.value))}}function PE(r){const t=[];return rs(r.fields,((i,a)=>{const l=new Qe([i]);if(zc(a)){const c=PE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class $e{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function Bv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=to(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function jv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function b2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class zE{}class Ie extends zE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new R2(t,i,a):i==="array-contains"?new D2(t,a):i==="in"?new N2(t,a):i==="not-in"?new O2(t,a):i==="array-contains-any"?new M2(t,a):new Ie(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new I2(t,a):new C2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&es(this.value)===es(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends zE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $n(t,i)}matches(t){return BE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(r){return r.op==="and"}function jE(r){return w2(r)&&BE(r)}function w2(r){for(const t of r.filters)if(t instanceof $n)return!1;return!0}function am(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(jE(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function qE(r,t){return r instanceof Ie?(function(a,l){return l instanceof Ie&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(r,t):r instanceof $n?(function(a,l){return l instanceof $n&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&qE(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function HE(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${eo(i.value)}`})(r):r instanceof $n?(function(i){return i.op.toString()+" {"+i.getFilters().map(HE).join(" ,")+"}"})(r):"Filter"}class R2 extends Ie{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class I2 extends Ie{constructor(t,i){super(t,"in",i),this.keys=FE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class C2 extends Ie{constructor(t,i){super(t,"not-in",i),this.keys=FE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function FE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class D2 extends Ie{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&Ll(i.arrayValue,this.value)}}class N2 extends Ie{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class O2 extends Ie{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class M2 extends Ie{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class V2{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function qv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new V2(r,t,i,a,l,c,d)}function zm(r){const t=Et(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>eo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>eo(a))).join(",")),t.Te=i}return t.Te}function Bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!b2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!qE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!jv(r.startAt,t.startAt)&&jv(r.endAt,t.endAt)}function om(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ql{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function x2(r,t,i,a,l,c,d,g){return new Ql(r,t,i,a,l,c,d,g)}function jm(r){return new Ql(r)}function Hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function GE(r){return r.collectionGroup!==null}function Dl(r){const t=Et(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new eh(Qe.keyField(),a))}return t.Ie}function Ri(r){const t=Et(r);return t.Ee||(t.Ee=k2(t,Dl(r))),t.Ee}function k2(r,t){if(r.limitType==="F")return qv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return qv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t){const i=r.filters.concat([t]);return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function um(r,t,i){return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ph(r,t){return Bm(Ri(r),Ri(t))&&r.limitType===t.limitType}function QE(r){return`${zm(Ri(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>HE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>eo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>eo(l))).join(",")),`Target(${a})`})(Ri(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=Bv(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,g,y){const _=Bv(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(r,t)}function U2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KE(r){return(t,i)=>{let a=!1;for(const l of Dl(r)){const c=L2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function L2(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?to(y,_):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class Ys{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return NE(this.inner)}size(){return this.innerSize}}const P2=new le(ft.comparator);function ir(){return P2}const YE=new le(ft.comparator);function Sl(...r){let t=YE;for(const i of r)t=t.insert(i.key,i);return t}function XE(r){let t=YE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zs(){return Nl()}function JE(){return Nl()}function Nl(){return new Ys((r=>r.toString()),((r,t)=>r.isEqual(t)))}const z2=new le(ft.comparator),B2=new Ve(ft.comparator);function Ot(...r){let t=B2;for(const i of r)t=t.add(i);return t}const j2=new Ve(Nt);function q2(){return j2}function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function ZE(r){return{integerValue:""+r}}function H2(r,t){return p2(t)?ZE(t):qm(r,t)}class _h{constructor(){this._=void 0}}function F2(r,t,i){return r instanceof nh?(function(l,c){const d={fields:{[VE]:{stringValue:ME},[kE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=gh(c)),c&&(d.fields[xE]=c),{mapValue:d}})(i,t):r instanceof Pl?WE(r,t):r instanceof zl?tT(r,t):(function(l,c){const d=$E(l,c),g=Fv(d)+Fv(l.Ae);return sm(d)&&sm(l.Ae)?ZE(g):qm(l.serializer,g)})(r,t)}function G2(r,t,i){return r instanceof Pl?WE(r,t):r instanceof zl?tT(r,t):i}function $E(r,t){return r instanceof ih?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends _h{}class Pl extends _h{constructor(t){super(),this.elements=t}}function WE(r,t){const i=eT(t);for(const a of r.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class zl extends _h{constructor(t){super(),this.elements=t}}function tT(r,t){let i=eT(t);for(const a of r.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class ih extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Fv(r){return pe(r.integerValue||r.doubleValue)}function eT(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Q2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Pl&&l instanceof Pl||a instanceof zl&&l instanceof zl?Wa(a.elements,l.elements,Ni):a instanceof ih&&l instanceof ih?Ni(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,t.transform)}class K2{constructor(t,i){this.version=t,this.transformResults=i}}class Zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function nT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Hm(r.key,Zn.none()):new Kl(r.key,r.data,Zn.none());{const i=r.data,a=fn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ss(r.key,a,new Sn(l.toArray()),Zn.none())}}function Y2(r,t,i){r instanceof Kl?(function(l,c,d){const g=l.value.clone(),y=Qv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ss?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Qv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(iT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Kl?(function(c,d,g,y){if(!Bc(c.precondition,d))return g;const _=c.value.clone(),S=Kv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof ss?(function(c,d,g,y){if(!Bc(c.precondition,d))return g;const _=Kv(c.fieldTransforms,y,d),S=d.data;return S.setAll(iT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,g){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function X2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=$E(a.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function Gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wa(a,l,((c,d)=>Q2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ss extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function iT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Qv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,G2(d,g,i[l]))}return a}function Kv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,F2(c,d,t))}return a}class Hm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class J2 extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Y2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=JE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=nT(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>Gv(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>Gv(i,a)))}}class Fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return z2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(t,i,a,l)}}class $2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class W2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,kt;function tI(r){switch(r){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function rT(r){if(r===void 0)return nr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Re.OK:return J.OK;case Re.CANCELLED:return J.CANCELLED;case Re.UNKNOWN:return J.UNKNOWN;case Re.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Re.INTERNAL:return J.INTERNAL;case Re.UNAVAILABLE:return J.UNAVAILABLE;case Re.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Re.NOT_FOUND:return J.NOT_FOUND;case Re.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Re.ABORTED:return J.ABORTED;case Re.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Re.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:r})}}(kt=Re||(Re={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function eI(){return new TextEncoder}const nI=new Xr([4294967295,4294967295],0);function Yv(r){const t=eI().encode(r),i=new vE;return i.update(t),new Uint8Array(i.digest())}function Xv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xr([i,a],0),new Xr([l,c],0)]}class Gm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Xr.fromNumber(a)));return l.compare(nI)===1&&(l=new Xr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Yv(t),[a,l]=Xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Gm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Yv(t),[a,l]=Xv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(_t.min(),l,new le(Nt),ir(),Ot())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,Ot(),Ot(),Ot())}}class jc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class sT{constructor(t,i){this.targetId=t,this.Ce=i}}class aT{constructor(t,i,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Jv{constructor(){this.ve=0,this.Fe=Zv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iI{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.Je=Oc(),this.He=Oc(),this.Ye=new le(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new ft(c.path);this.et(i,d,$e.newNoDocument(d,_t.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=ts(a).toUint8Array()}catch(y){if(y instanceof OE)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Gm(d,l,c)}catch(y){return $a(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&om(g.target)){const y=new ft(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,$e.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,a);return this.je=ir(),this.Je=Oc(),this.He=Oc(),this.Ye=new le(Nt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Jv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Jv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new le(ft.comparator)}function Zv(){return new le(ft.comparator)}const rI={asc:"ASCENDING",desc:"DESCENDING"},sI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aI={and:"AND",or:"OR"};class oI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||mh(t)?t:{value:t}}function rh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lI(r,t){return rh(r,t.toTimestamp())}function Ii(r){return Ft(!!r,49232),_t.fromTimestamp((function(i){const a=Wr(i);return new re(a.seconds,a.nanos)})(r))}function Qm(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function lT(r){const t=ee.fromString(r);return Ft(dT(t),10190,{key:t.toString()}),t}function fm(r,t){return Qm(r.databaseId,t.path)}function qd(r,t){const i=lT(t);if(i.get(1)!==r.databaseId.projectId)throw new st(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(cT(i))}function uT(r,t){return Qm(r.databaseId,t)}function uI(r){const t=lT(r);return t.length===4?ee.emptyPath():cT(t)}function dm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function cT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $v(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function cI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Ft(S===void 0||typeof S=="string",58123),Ye.fromBase64String(S||"")):(Ft(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ye.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:rT(_.code);return new st(S,_.message||"")})(d);i=new aT(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Ii(a.document.updateTime),d=a.document.createTime?Ii(a.document.createTime):_t.min(),g=new fn({mapValue:{fields:a.document.fields}}),y=$e.newFoundDocument(l,c,d,g),_=a.targetIds||[],S=a.removedTargetIds||[];i=new jc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Ii(a.readTime):_t.min(),d=$e.newNoDocument(l,c),g=a.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new W2(l,c),g=a.targetId;i=new sT(g,d)}}return i}function hI(r,t){let i;if(t instanceof Kl)i={update:$v(r,t.key,t.value)};else if(t instanceof Hm)i={delete:fm(r,t.key)};else if(t instanceof ss)i={update:$v(r,t.key,t.data),updateMask:EI(t.fieldMask)};else{if(!(t instanceof J2))return gt(16599,{Vt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Pl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ih)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:lI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function fI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(_t.min())&&(d=Ii(c)),new K2(d,l.transformResults||[])})(i,t)))):[]}function dI(r,t){return{documents:[uT(r,t.path)]}}function mI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=uT(r,l);const c=(function(_){if(_.length!==0)return fT($n.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(D){return{field:qa(D.field),direction:yI(D.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=cm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function gI(r){let t=uI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const D=hT(A);return D instanceof $n&&jE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((D=>(function($){return new eh(Ha($.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let D;return D=typeof A=="object"?A.value:A,mh(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(A){const D=!!A.before,q=A.values||[];return new th(q,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const D=!A.before,q=A.values||[];return new th(q,D)})(i.endAt)),x2(t,l,d,c,g,"F",y,_)}function pI(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function hT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return Ie.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Ie.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $n.create(i.compositeFilter.filters.map((a=>hT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function yI(r){return rI[r]}function _I(r){return sI[r]}function vI(r){return aI[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Qe.fromServerFormat(r.fieldPath)}function fT(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(zv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(Pv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(zv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(Pv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:_I(i.op),value:i.value}}})(r):r instanceof $n?(function(i){const a=i.getFilters().map((l=>fT(l)));return a.length===1?a[0]:{compositeFilter:{op:vI(i.op),filters:a}}})(r):gt(54877,{filter:r})}function EI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function dT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gr{constructor(t,i,a,l,c=_t.min(),d=_t.min(),g=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class TI{constructor(t){this.yt=t}}function SI(r){const t=gI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}class AI{constructor(){this.Cn=new bI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve($r.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class bI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(ee.comparator)).toArray()}}const Wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(mT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class no{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}const t0="LruGarbageCollector",wI=1048576;function e0([r,t],[i,a]){const l=Nt(r,i);return l===0?Nt(t,a):l}class RI{constructor(t){this.Ir=t,this.buffer=new Ve(e0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();e0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(t0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?rt(t0,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Vr(3e5)}))}}class CI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(dh.ce);const a=new RI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Wv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Ba()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function DI(r,t){return new CI(r,t)}class NI{constructor(){this.changes=new Ys((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class OI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class MI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,Sn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=zs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Sl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ir();const d=Nl(),g=(function(){return Nl()})();return i.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof ss)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Ol(S.mutation,_,S.mutation.getFieldMask(),re.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new OI(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new le(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=a.get(y)||Sn.empty();S=g.applyToLocalView(_,S),a.set(y,S);const A=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,A=JE();S.forEach((D=>{if(!c.has(D)){const q=nT(i.get(D),a.get(D));q!==null&&A.set(D,q),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):GE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Z.resolve(zs());let g=xl,y=c;return d.next((_=>Z.forEach(_,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(t,S).next((D=>{y=y.insert(S,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((S=>({batchId:g,changes:XE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let l=Sl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(y=>{const _=(function(A,D){return new Ql(D,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((A,D)=>{d=d.insert(A,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,$e.newInvalidDocument(S)))}));let g=Sl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Ol(S.mutation,_,Sn.empty(),re.now()),yh(i,_)&&(g=g.insert(y,_))})),g}))}}class VI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:SI(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),Z.resolve()}}class xI{constructor(){this.overlays=new le(ft.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zs();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const l=zs(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=zs(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=zs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return Z.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new $2(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class kI{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Km{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ee([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ee([])),a=new Le(i,t),l=new Le(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class UI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Z2(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Nt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let g=new Ve(Nt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class LI{constructor(t){this.ri=t,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=ir();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ir();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||f2(h2(S),a)<=0||(l.has(S.key)||yh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new PI(this)}getSize(t){return Z.resolve(this.size)}}class PI extends NI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class zI{constructor(t){this.persistence=t,this.si=new Ys((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=no.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new no(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class gT{constructor(t,i){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new kI,this.referenceDelegate=t(this),this.Pi=new zI(this),this.indexManager=new AI,this.remoteDocumentCache=(function(l){return new LI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new TI(i),this.Ii=new VI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new UI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new BI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class BI extends m2{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=ft.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new Ys((a=>y2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=DI(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,a,l)}}class jI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class qI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xA()?8:g2(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new jI;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ba()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ba()<=Dt.DEBUG&&rt("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ba()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):Z.resolve())}ys(t,i){if(Hv(i))return Z.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,um(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Hv(i)||l.isEqual(_t.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(Ba()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ja(i)),this.vs(t,d,i,c2(l,xl)).next((g=>g)))}))}Ds(t,i){let a=new Ve(KE(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ba()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,$r.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",HI=3e8;class FI{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Nt),this.xs=new Ys((c=>zm(c)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function GI(r,t,i,a){return new FI(r,t,i,a)}async function pT(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function QI(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const A=_.batch,D=A.keys();let q=Z.resolve();return D.forEach(($=>{q=q.next((()=>S.getEntry(y,$))).next((Q=>{const K=_.docVersions.get($);Ft(K!==null,48541),Q.version.compareTo(K)<0&&(A.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),S.addEntry(Q)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function yT(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function KI(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((S,A)=>{const D=l.get(A);if(!D)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,A))));let q=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?q=q.withResumeToken(Ye.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,a)),l=l.insert(A,q),(function(Q,K,et){return Q.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=HI?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(D,q,S)&&g.push(i.Pi.updateTargetData(c,q))}));let y=ir(),_=Ot();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(YI(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(_t.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function YI(r,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ir();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(Jm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function XI(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function JI(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Gr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function mm(r,t,i){const a=Et(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;rt(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function n0(r,t,i){const a=Et(r);let l=_t.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const A=Et(y),D=A.xs.get(S);return D!==void 0?Z.resolve(A.Ms.get(D)):A.Pi.getTargetData(_,S)})(a,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Ot()))).next((g=>(ZI(a,U2(t),g),{documents:g,Qs:c})))))}function ZI(r,t,i){let a=r.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class i0{constructor(){this.activeTargetIds=q2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $I{constructor(){this.Mo=new i0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new i0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class WI{Oo(t){}shutdown(){}}const r0="ConnectivityMonitor";class s0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(r0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(r0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function gm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Hd="RestConnection",tC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===$c?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=gm(),g=this.zo(t,i.toUriEncodedString());rt(Hd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),S=so(_);return this.Jo(t,g,y,a,S).then((A=>(rt(Hd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw $a(Hd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=tC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class nC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class iC extends eC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=gm();return new Promise(((g,y)=>{const _=new EE;_.setWithCredentials(!0),_.listenOnce(TE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const A=_.getResponseJson();rt(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case Lc.TIMEOUT:rt(Je,`RPC '${t}' ${d} timed out`),y(new st(J.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const D=_.getStatus();if(rt(Je,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const $=q?.error;if($&&$.status&&$.message){const Q=(function(et){const lt=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(lt)>=0?lt:J.UNKNOWN})($.status);y(new st(Q,$.message))}else y(new st(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new st(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Je,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);rt(Je,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=gm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=bE(),g=AE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const S=c.join("");rt(Je,`Creating RPC '${t}' stream ${l}: ${S}`,y);const A=d.createWebChannel(S,y);this.I_(A);let D=!1,q=!1;const $=new nC({Yo:K=>{q?rt(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,K):(D||(rt(Je,`Opening RPC '${t}' stream ${l} transport.`),A.open(),D=!0),rt(Je,`RPC '${t}' stream ${l} sending:`,K),A.send(K))},Zo:()=>A.close()}),Q=(K,et,lt)=>{K.listen(et,(ut=>{try{lt(ut)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return Q(A,Tl.EventType.OPEN,(()=>{q||(rt(Je,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),Q(A,Tl.EventType.CLOSE,(()=>{q||(q=!0,rt(Je,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(A))})),Q(A,Tl.EventType.ERROR,(K=>{q||(q=!0,$a(Je,`RPC '${t}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),$.a_(new st(J.UNAVAILABLE,"The operation could not be completed")))})),Q(A,Tl.EventType.MESSAGE,(K=>{if(!q){const et=K.data[0];Ft(!!et,16349);const lt=et,ut=lt?.error||lt[0]?.error;if(ut){rt(Je,`RPC '${t}' stream ${l} received error:`,ut);const zt=ut.status;let Xt=(function(b){const I=Re[b];if(I!==void 0)return rT(I)})(zt),Mt=ut.message;Xt===void 0&&(Xt=J.INTERNAL,Mt="Unknown error status: "+zt+" with message "+ut.message),q=!0,$.a_(new st(Xt,Mt)),A.close()}else rt(Je,`RPC '${t}' stream ${l} received:`,et),$.u_(et)}})),Q(g,SE.STAT_EVENT,(K=>{K.stat===nm.PROXY?rt(Je,`RPC '${t}' stream ${l} detected buffering proxy`):K.stat===nm.NOPROXY&&rt(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function Th(r){return new oI(r,!0)}class _T{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const a0="PersistentStream";class vT{constructor(t,i,a,l,c,d,g,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _T(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new st(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(a0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rC extends vT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=cI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ii(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=om(y)?{documents:dI(c,y)}:{query:mI(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=oT(c,d.resumeToken);const _=cm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=rh(c,d.snapshotVersion.toTimestamp());const _=cm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=pI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.q_(i)}}class sC extends vT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=fI(t.writeResults,t.commitTime),a=Ii(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>hI(this.serializer,a)))};this.q_(i)}}class aC{}class oC extends aC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new st(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,hm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ks="RemoteStore";class uC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Xs(this)&&(rt(Ks,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Ra=new lC(a,l)}}async function Sh(r){if(Xs(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function ET(r,t){const i=Et(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tg(i)?Wm(i):ho(i).O_()&&$m(i,t))}function Zm(r,t){const i=Et(r),a=ho(i);i.Ia.delete(t),a.O_()&&TT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Xs(i)&&i.Ra.set("Unknown"))}function $m(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ho(r).Y_(t)}function TT(r,t){r.Va.Ue(t),ho(r).Z_(t)}function Wm(r){r.Va=new iI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Ra.ua()}function tg(r){return Xs(r)&&!ho(r).x_()&&r.Ia.size>0}function Xs(r){return Et(r).Ea.size===0}function ST(r){r.Va=void 0}async function cC(r){r.Ra.set("Online")}async function hC(r){r.Ia.forEach(((t,i)=>{$m(r,t)}))}async function fC(r,t){ST(r),tg(r)?(r.Ra.ha(t),Wm(r)):r.Ra.set("Unknown")}async function dC(r,t,i){if(r.Ra.set("Online"),t instanceof aT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){rt(Ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ah(r,a)}else if(t instanceof jc?r.Va.Ze(t):t instanceof sT?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const a=await yT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Ye.EMPTY_BYTE_STRING,S.snapshotVersion)),TT(c,y);const A=new Gr(S.target,y,_,S.sequenceNumber);$m(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){rt(Ks,"Failed to raise snapshot:",a),await ah(r,a)}}async function ah(r,t,i){if(!co(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>yT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Ks,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function AT(r,t){return t().catch((i=>ah(r,i,t)))}async function Ah(r){const t=Et(r),i=ns(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;mC(t);)try{const l=await XI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,gC(t,l)}catch(l){await ah(t,l)}bT(t)&&wT(t)}function mC(r){return Xs(r)&&r.Ta.length<10}function gC(r,t){r.Ta.push(t);const i=ns(r);i.O_()&&i.X_&&i.ea(t.mutations)}function bT(r){return Xs(r)&&!ns(r).x_()&&r.Ta.length>0}function wT(r){ns(r).start()}async function pC(r){ns(r).ra()}async function yC(r){const t=ns(r);for(const i of r.Ta)t.ea(i.mutations)}async function _C(r,t,i){const a=r.Ta.shift(),l=Fm.from(a,t,i);await AT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ah(r)}async function vC(r,t){t&&ns(r).X_&&await(async function(a,l){if((function(d){return tI(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();ns(a).B_(),await AT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(a)}})(r,t),bT(r)&&wT(r)}async function o0(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),rt(Ks,"RemoteStore received new credentials");const a=Xs(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function EC(r,t){const i=Et(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function ho(r){return r.ma||(r.ma=(function(i,a,l){const c=Et(i);return c.sa(),new rC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:cC.bind(null,r),t_:hC.bind(null,r),r_:fC.bind(null,r),H_:dC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),tg(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),ST(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(i,a,l){const c=Et(i);return c.sa(),new sC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:pC.bind(null,r),r_:vC.bind(null,r),ta:yC.bind(null,r),na:_C.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ah(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class eg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new eg(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,t){if(nr("AsyncQueue",`${t}: ${r}`),co(r))return new st(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Sl(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class l0{constructor(){this.ga=new le(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class io{constructor(t,i,a,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new io(t,i,Ya.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class TC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class SC{constructor(){this.queries=u0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=u0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new st(J.ABORTED,"Firestore shutting down"))}}function u0(){return new Ys((r=>QE(r)),ph)}async function AC(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new TC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ng(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ig(i)}async function bC(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function wC(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&ig(i)}function RC(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function ig(r){r.Ca.forEach((t=>{t.next()}))}var pm,c0;(c0=pm||(pm={})).Ma="default",c0.Cache="cache";class IC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new io(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==pm.Cache}}class RT{constructor(t){this.key=t}}class IT{constructor(t){this.key=t}}class CC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=KE(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new l0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const D=l.get(S),q=yh(this.query,A)?A:null,$=!!D&&this.mutatedKeys.has(D.key),Q=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let K=!1;D&&q?D.data.isEqual(q.data)?$!==Q&&(a.track({type:3,doc:q}),K=!0):this.su(D,q)||(a.track({type:2,doc:q}),K=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!D&&q?(a.track({type:0,doc:q}),K=!0):D&&!q&&(a.track({type:1,doc:D}),K=!0,(y||_)&&(g=!0)),K&&(q?(d=d.add(q),c=Q?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(q,$){const Q=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:K})}};return Q(q)-Q($)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new io(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new IT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new RT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class DC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class NC{constructor(t){this.key=t,this.hu=!1}}class OC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ys((g=>QE(g)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new le(ft.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MC(r,t,i=!0){const a=VT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await CT(a,t,i,!0),l}async function VC(r,t){const i=VT(r);await CT(i,t,!0,!1)}async function CT(r,t,i,a){const l=await JI(r.localStore,Ri(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await xC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&ET(r.remoteStore,l),g}async function xC(r,t,i,a,l){r.pu=(A,D,q)=>(async function(Q,K,et,lt){let ut=K.view.ru(et);ut.Cs&&(ut=await n0(Q.localStore,K.query,!1).then((({documents:C})=>K.view.ru(C,ut))));const zt=lt&&lt.targetChanges.get(K.targetId),Xt=lt&&lt.targetMismatches.get(K.targetId)!=null,Mt=K.view.applyChanges(ut,Q.isPrimaryClient,zt,Xt);return f0(Q,K.targetId,Mt.au),Mt.snapshot})(r,A,D,q);const c=await n0(r.localStore,t,!0),d=new CC(t,c.Qs),g=d.ru(c.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);f0(r,i,_.au);const S=new DC(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function kC(r,t,i){const a=Et(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ph(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(uo)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function UC(r,t){const i=Et(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function LC(r,t,i){const a=FC(r);try{const l=await(function(d,g){const y=Et(d),_=re.now(),S=g.reduce(((q,$)=>q.add($.key)),Ot());let A,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let $=ir(),Q=Ot();return y.Ns.getEntries(q,S).next((K=>{$=K,$.forEach(((et,lt)=>{lt.isValidDocument()||(Q=Q.add(et))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,$))).next((K=>{A=K;const et=[];for(const lt of g){const ut=X2(lt,A.get(lt.key).overlayedDocument);ut!=null&&et.push(new ss(lt.key,ut,PE(ut.value.mapValue),Zn.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,et,g)})).next((K=>{D=K;const et=K.applyToLocalDocumentSet(A,Q);return y.documentOverlayCache.saveOverlays(q,K.batchId,et)}))})).then((()=>({batchId:D.batchId,changes:XE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Nt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Jl(a,l.changes),await Ah(a.remoteStore)}catch(l){const c=ng(l,"Failed to persist write");i.reject(c)}}async function DT(r,t){const i=Et(r);try{const a=await KI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await uo(a)}}function h0(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let _=!1;y.queries.forEach(((S,A)=>{for(const D of A.Sa)D.va(g)&&(_=!0)})),_&&ig(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function PC(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(ft.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const g=Ot().add(c),y=new Eh(_t.min(),new Map,new le(Nt),d,g);await DT(a,y),a.du=a.du.remove(c),a.Au.delete(t),sg(a)}else await mm(a.localStore,t,!1).then((()=>ym(a,t,i))).catch(uo)}async function zC(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await QI(i.localStore,t);OT(i,a,null),NT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await uo(l)}}async function BC(r,t,i){const a=Et(r);try{const l=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(Ft(A!==null,37113),S=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);OT(a,t,i),NT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await uo(l)}}function NT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function OT(r,t,i){const a=Et(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||MT(r,a)}))}function MT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Zm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),sg(r))}function f0(r,t,i){for(const a of i)a instanceof RT?(r.Ru.addReference(a.key,t),jC(r,a)):a instanceof IT?(rt(rg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||MT(r,a.key)):gt(19791,{wu:a})}function jC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(rg,"New document in limbo: "+i),r.Eu.add(a),sg(r))}function sg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(ee.fromString(t)),a=r.fu.next();r.Au.set(a,new NC(i)),r.du=r.du.insert(i,a),ET(r.remoteStore,new Gr(Ri(jm(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Jl(r,t,i){const a=Et(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Xm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const S=Et(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(D=>Z.forEach(D.Es,(q=>S.persistence.referenceDelegate.addReference(A,D.targetId,q))).next((()=>Z.forEach(D.ds,(q=>S.persistence.referenceDelegate.removeReference(A,D.targetId,q)))))))))}catch(A){if(!co(A))throw A;rt(Jm,"Failed to update sequence numbers: "+A)}for(const A of _){const D=A.targetId;if(!A.fromCache){const q=S.Ms.get(D),$=q.snapshotVersion,Q=q.withLastLimboFreeSnapshotVersion($);S.Ms=S.Ms.insert(D,Q)}}})(a.localStore,c))}async function qC(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){rt(rg,"User change. New user:",t.toKey());const a=await pT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new st(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ls)}}function HC(r,t){const i=Et(r),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function VT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PC.bind(null,t),t.Pu.H_=wC.bind(null,t.eventManager),t.Pu.yu=RC.bind(null,t.eventManager),t}function FC(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return GI(this.persistence,new qI,t.initialUser,this.serializer)}Cu(t){return new gT(Ym.mi,this.serializer)}Du(t){return new $I}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class GC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new II(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new gT((a=>sh.mi(a,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>h0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=qC.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SC})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new iC(c)})(t.databaseInfo);return(function(c,d,g,y){return new oC(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new uC(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>h0(this.syncEngine,i,0)),(function(){return s0.v()?new s0:new WI})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,S){const A=new OC(l,c,d,g,y,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);rt(Ks,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class QC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const is="FirestoreClient";class KC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ng(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(is,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await pT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function d0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await YC(r);rt(is,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>o0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>o0(t.remoteStore,l))),r._onlineComponents=t}async function YC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(is,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;$a("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new oh)}}else rt(is,"Using default OfflineComponentProvider"),await Gd(r,new GC(void 0));return r._offlineComponents}async function xT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(is,"Using user provided OnlineComponentProvider"),await d0(r,r._uninitializedComponentsProvider._online)):(rt(is,"Using default OnlineComponentProvider"),await d0(r,new _m))),r._onlineComponents}function XC(r){return xT(r).then((t=>t.syncEngine))}async function m0(r){const t=await xT(r),i=t.eventManager;return i.onListen=MC.bind(null,t.syncEngine),i.onUnlisten=kC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=VC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=UC.bind(null,t.syncEngine),i}function kT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const g0=new Map;const UT="firestore.googleapis.com",p0=!0;class y0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new st(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=p0}else this.host=t.host,this.ssl=t.ssl??p0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wI)throw new st(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}u2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new st(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new st(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new st(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new st(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new WR;switch(a.type){case"firstParty":return new i2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=g0.get(i);a&&(rt("ComponentProvider","Removing Datastore"),g0.delete(i),a.terminate())})(this),Promise.resolve()}}function JC(r,t,i,a={}){r=Jr(r,bh);const l=so(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(x0(`https://${g}`),k0("Firestore",!0)),c.host!==UT&&c.host!==g&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:a};if(!Hs(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=Ze.MOCK_USER;else{_=wA(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new st(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(A)}r._authCredentials=new t2(new RE(_,S))}}class fo{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new fo(this.firestore,t,this._query)}}class De{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new De(this.firestore,t,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Gl(i,De._jsonSchema))return new De(t,a||null,new ft(ee.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ce("string",De._jsonSchemaVersion),referencePath:Ce("string")};class Zr extends fo{constructor(t,i,a){super(t,i,jm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new De(this.firestore,null,new ft(t))}withConverter(t){return new Zr(this.firestore,t,this._path)}}function _0(r,t,...i){if(r=Ke(r),IE("collection","path",t),r instanceof bh){const a=ee.fromString(t,...i);return Dv(a),new Zr(r,null,a)}{if(!(r instanceof De||r instanceof Zr))throw new st(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return Dv(a),new Zr(r.firestore,null,a)}}function Ps(r,t,...i){if(r=Ke(r),arguments.length===1&&(t=km.newId()),IE("doc","path",t),r instanceof bh){const a=ee.fromString(t,...i);return Cv(a),new De(r,null,new ft(a))}{if(!(r instanceof De||r instanceof Zr))throw new st(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return Cv(a),new De(r.firestore,r instanceof Zr?r.converter:null,new ft(a))}}const v0="AsyncQueue";class E0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _T(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&rt(v0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new js;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!co(t))throw t;rt(v0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",T0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=eg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function T0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function S0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ro extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new E0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new E0(t),this._firestoreClient=void 0,await t}}}function ZC(r,t){const i=typeof r=="object"?r:z0(),a=typeof r=="string"?r:$c,l=bm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=AA("firestore");c&&JC(l,...c)}return l}function LT(r){if(r._terminated)throw new st(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$C(r),r._firestoreClient}function $C(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new E2(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new KC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(i){throw new st(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Gl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class wh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new st(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ag{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new st(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new st(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Gl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Gl(t,Di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Di(t.vectorValues);throw new st(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Ce("string",Di._jsonSchemaVersion),vectorValues:Ce("object")};const WC=/^__.*__$/;class tD{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ss(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class PT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ss(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function zT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class og{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new og({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zT(this.Ac)&&WC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eD{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,l=!1){return new og({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lg(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new eD(r._databaseId,!!t.ignoreUndefinedProperties,i)}function nD(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ug("Data must be an object, but it was:",d,a);const g=BT(a,d);let y,_;if(c.merge)y=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const D=vm(t,A,i);if(!d.contains(D))throw new st(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);qT(S,D)||S.push(D)}y=new Sn(S),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new tD(new fn(g),y,_)}class Rh extends ag{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function iD(r,t,i,a){const l=r.Cc(1,t,i);ug("Data must be an object, but it was:",l,a);const c=[],d=fn.empty();rs(a,((y,_)=>{const S=cg(t,y,i);_=Ke(_);const A=l.yc(S);if(_ instanceof Rh)c.push(S);else{const D=Zl(_,A);D!=null&&(c.push(S),d.set(S,D))}}));const g=new Sn(c);return new PT(d,g,l.fieldTransforms)}function rD(r,t,i,a,l,c){const d=r.Cc(1,t,i),g=[vm(t,a,i)],y=[l];if(c.length%2!=0)throw new st(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(vm(t,c[D])),y.push(c[D+1]);const _=[],S=fn.empty();for(let D=g.length-1;D>=0;--D)if(!qT(_,g[D])){const q=g[D];let $=y[D];$=Ke($);const Q=d.yc(q);if($ instanceof Rh)_.push(q);else{const K=Zl($,Q);K!=null&&(_.push(q),S.set(q,K))}}const A=new Sn(_);return new PT(S,A,d.fieldTransforms)}function sD(r,t,i,a=!1){return Zl(i,r.Cc(a?4:3,t))}function Zl(r,t){if(jT(r=Ke(r)))return ug("Unsupported field value:",t,r),BT(r,t);if(r instanceof ag)return(function(a,l){if(!zT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=Zl(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ke(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return H2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:rh(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:rh(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:oT(l.serializer,a._byteString)};if(a instanceof De){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Di)return(function(d,g){return{mapValue:{fields:{[UE]:{stringValue:LE},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return qm(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${fh(a)}`)})(r,t)}function BT(r,t){const i={};return NE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(r,((a,l)=>{const c=Zl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Ci||r instanceof Un||r instanceof De||r instanceof ag||r instanceof Di)}function ug(r,t,i){if(!jT(i)||!CE(i)){const a=fh(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function vm(r,t,i){if((t=Ke(t))instanceof wh)return t._internalPath;if(typeof t=="string")return cg(r,t);throw lh("Field path arguments must be of type string or ",r,!1,void 0,i)}const aD=new RegExp("[~\\*/\\[\\]]");function cg(r,t,i){if(t.search(aD)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new wh(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function lh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new st(J.INVALID_ARGUMENT,g+r+y)}function qT(r,t){return r.some((i=>i.isEqual(t)))}class HT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(hg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oD extends HT{data(){return super.data()}}function hg(r,t){return typeof t=="string"?cg(r,t):t instanceof wh?t._internalPath:t._delegate._internalPath}function lD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class uD extends fg{}function cD(r,t,...i){let a=[];t instanceof fg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof dg)).length,g=c.filter((y=>y instanceof Ih)).length;if(d>1||d>0&&g>0)throw new st(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class Ih extends uD{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Ih(t,i,a)}_apply(t){const i=this._parse(t);return FT(t._query,i),new fo(t.firestore,t.converter,lm(t._query,i))}_parse(t){const i=lg(t.firestore);return(function(c,d,g,y,_,S,A){let D;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new st(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){b0(A,S);const $=[];for(const Q of A)$.push(A0(y,c,Q));D={arrayValue:{values:$}}}else D=A0(y,c,A)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||b0(A,S),D=sD(g,d,A,S==="in"||S==="not-in");return Ie.create(_,S,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function hD(r,t,i){const a=t,l=hg("where",r);return Ih._create(l,a,i)}class dg extends fg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new dg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:$n.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)FT(d,y),d=lm(d,y)})(t._query,i),new fo(t.firestore,t.converter,lm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function A0(r,t,i){if(typeof(i=Ke(i))=="string"){if(i==="")throw new st(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GE(t)&&i.indexOf("/")!==-1)throw new st(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(ee.fromString(i));if(!ft.isDocumentKey(a))throw new st(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Lv(r,new ft(a))}if(i instanceof De)return Lv(r,i._key);throw new st(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(i)}.`)}function b0(r,t){if(!Array.isArray(r)||r.length===0)throw new st(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function FT(r,t){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new st(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new st(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class fD{convertValue(t,i="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return rs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>pe(a.doubleValue)));return new Di(i)}convertGeoPoint(t){return new Ci(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=Wr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Ft(dT(a),9688,{name:t});const l=new Ul(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return l.isEqual(i)||nr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function dD(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qs extends HT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(hg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:Ce("string",qs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class qc extends qs{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new bl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:mD(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function mD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ce("string",Xa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class GT extends fD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new De(this.firestore,null,i)}}function El(r,t,i,...a){r=Jr(r,De);const l=Jr(r.firestore,ro),c=lg(l);let d;return d=typeof(t=Ke(t))=="string"||t instanceof wh?rD(c,"updateDoc",r._key,t,i,a):iD(c,"updateDoc",r._key,t),mg(l,[d.toMutation(r._key,Zn.exists(!0))])}function gD(r){return mg(Jr(r.firestore,ro),[new Hm(r._key,Zn.none())])}function pD(r,t){const i=Jr(r.firestore,ro),a=Ps(r),l=dD(r.converter,t);return mg(i,[nD(lg(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Zn.exists(!1))]).then((()=>a))}function yD(r,...t){r=Ke(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||S0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(S0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof De)d=Jr(r.firestore,ro),g=jm(r._key.path),c={next:y=>{t[a]&&t[a](_D(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Jr(r,fo);d=Jr(y.firestore,ro),g=y._query;const _=new GT(d);c={next:S=>{t[a]&&t[a](new Xa(d,_,y,S))},error:t[a+1],complete:t[a+2]},lD(r._query)}return(function(_,S,A,D){const q=new QC(D),$=new IC(S,q,A);return _.asyncQueue.enqueueAndForget((async()=>AC(await m0(_),$))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>bC(await m0(_),$)))}})(LT(d),g,l,c)}function mg(r,t){return(function(a,l){const c=new js;return a.asyncQueue.enqueueAndForget((async()=>LC(await XC(a),l,c))),c.promise})(LT(r),t)}function _D(r,t,i){const a=i.docs.get(t._key),l=new GT(r);return new qs(r,l,t._key,a,new bl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){lo=l})(ao),Ja(new Fs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ro(new e2(a.getProvider("auth-internal")),new r2(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new st(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Yr(bv,wv,t),Yr(bv,wv,"esm2020")})();const vD={apiKey:"AIzaSyAb2M0ioupgIA92ifknOoUi13R0-mQ9QCw",authDomain:"todo-app-sync-711eb.firebaseapp.com",projectId:"todo-app-sync-711eb",storageBucket:"todo-app-sync-711eb.firebasestorage.app",messagingSenderId:"366517938254",appId:"1:366517938254:web:e13fa0768acf8932d7bb1f"},QT=P0(vD),ED=ZR(QT),Br=ZC(QT);new Ji;const TD=()=>{const[r,t]=Ht.useState([]),[i,a]=Ht.useState(""),[l,c]=Ht.useState(null),[d,g]=Ht.useState(!0);Ht.useEffect(()=>{const Q=Bw(ED,K=>{c(K),K||(t(cA()),g(!1))});return()=>Q()},[]),Ht.useEffect(()=>{if(l){g(!0);const Q=cD(_0(Br,"tasks"),hD("uid","==",l.uid)),K=yD(Q,et=>{const lt=et.docs.map(ut=>({...ut.data(),id:ut.id}));t(lt),g(!1)},et=>{console.error("Sync Error:",et),g(!1)});return()=>K()}},[l]),Ht.useEffect(()=>{!l&&!d&&hA(r)},[r,l,d]);const y=async Q=>{if(Q.preventDefault(),!i.trim())return;const K={text:i,completed:!1,timeRemaining:0,isFrog:!1,createdAt:Date.now()};if(l)try{await pD(_0(Br,"tasks"),{...K,uid:l.uid})}catch(et){console.error("Error adding to cloud",et)}else t([...r,{...K,id:Date.now().toString()}]);a("")},_=async Q=>{const K=r.find(lt=>lt.id===Q);if(!K)return;const et=!K.completed;if(et&&(mA(),window.dispatchEvent(new Event("streakUpdated"))),l)try{await El(Ps(Br,"tasks",Q),{completed:et})}catch(lt){console.error(lt)}else t(r.map(lt=>lt.id===Q?{...lt,completed:et}:lt))},S=async Q=>{l?r.find(lt=>lt.id===Q).isFrog?await El(Ps(Br,"tasks",Q),{isFrog:!1}):(r.filter(ut=>ut.isFrog&&ut.id!==Q).forEach(ut=>{El(Ps(Br,"tasks",ut.id),{isFrog:!1})}),await El(Ps(Br,"tasks",Q),{isFrog:!0})):t(K=>K.map(et=>et.id===Q&&!et.isFrog?{...et,isFrog:!0}:et.id!==Q&&!et.isFrog?et:et.id!==Q&&et.isFrog?{...et,isFrog:!1}:{...et,isFrog:!et.isFrog}))},A=async Q=>{l?await gD(Ps(Br,"tasks",Q)):t(r.filter(K=>K.id!==Q))},D=async(Q,K)=>{l||t(et=>et.map(lt=>lt.id===Q?{...lt,timeRemaining:K}:lt))},q=async(Q,K)=>{l?await El(Ps(Br,"tasks",Q),{timeRemaining:K}):D(Q,K)},$=[...r].sort((Q,K)=>Q.completed===K.completed?Q.isFrog&&!K.isFrog?-1:!Q.isFrog&&K.isFrog?1:K.createdAt-Q.createdAt:Q.completed?1:-1);return W.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[W.jsxs("form",{onSubmit:y,style:{marginBottom:"2rem",position:"relative"},children:[W.jsx("input",{type:"text",value:i,onChange:Q=>a(Q.target.value),placeholder:l?"Add a task to your Cloud List...":"What is your main focus for today?",disabled:d,style:{width:"100%",padding:"1.5rem",paddingRight:"4rem",fontSize:"1.5rem",background:"rgba(255,255,255,0.05)",borderRadius:"16px",color:"var(--text-primary)",backdropFilter:"blur(10px)",border:l?"1px solid var(--accent-blue)":"1px solid rgba(255,255,255,0.1)"}}),W.jsx("button",{type:"submit",disabled:d,style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",background:"var(--accent-blue)",color:"white",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(41, 121, 255, 0.4)"},children:W.jsx($S,{size:24})})]}),W.jsx("div",{className:"task-list",children:d?W.jsx("div",{style:{textAlign:"center",opacity:.5},children:"Loading Cloud Tasks..."}):$.length===0?W.jsx("div",{style:{textAlign:"center",opacity:.5,marginTop:"4rem"},children:W.jsx("p",{children:"No tasks yet. Start by adding one above!"})}):$.map(Q=>W.jsx(uA,{task:Q,onToggle:_,onDelete:A,onUpdateTimer:l?()=>{}:D,onSaveTimer:K=>q(Q.id,K),onToggleFrog:()=>S(Q.id)},Q.id))})]})},SD=()=>{const[r,t]=Ht.useState({});Ht.useEffect(()=>{t(dA())},[]);const i=Object.keys(r).sort().reverse();return W.jsx("div",{style:{maxWidth:"800px",margin:"0 auto"},children:i.length===0?W.jsx("div",{style:{textAlign:"center",opacity:.5},children:"No history available yet."}):i.map(a=>W.jsxs("div",{style:{marginBottom:"2rem"},children:[W.jsx("h3",{style:{marginBottom:"1rem",color:"var(--text-secondary)",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"0.5rem"},children:a}),W.jsx("div",{children:r[a].map(l=>W.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.03)",marginBottom:"0.5rem",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",opacity:.8},children:[W.jsx("span",{style:{textDecoration:l.completed?"line-through":"none",color:l.completed?"var(--text-secondary)":"var(--text-primary)"},children:l.text}),l.completed&&W.jsx(Tm,{size:16,color:"var(--accent-green)"})]},l.id))})]},a))})};function AD(){const[r,t]=Ht.useState("todo");return W.jsxs("div",{className:"app-container",children:[W.jsx(VS,{}),W.jsx("main",{children:r==="todo"?W.jsx(TD,{}):W.jsx(SD,{})}),W.jsx("footer",{style:{marginTop:"4rem",display:"flex",justifyContent:"center"},children:W.jsxs("button",{onClick:()=>t(r==="todo"?"history":"todo"),style:{background:"transparent",color:"var(--text-primary)",border:"1px solid var(--text-secondary)",padding:"0.8rem 2rem",borderRadius:"50px",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"1rem",opacity:.8,transition:"all 0.3s ease"},onMouseEnter:i=>{i.target.style.opacity="1",i.target.style.borderColor="var(--text-primary)"},onMouseLeave:i=>{i.target.style.opacity="0.8",i.target.style.borderColor="var(--text-secondary)"},children:[r==="todo"?W.jsx(KS,{size:20}):W.jsx(BS,{size:20}),r==="todo"?"View History":"Back to Today"]})})]})}MS.createRoot(document.getElementById("root")).render(W.jsx(Ht.StrictMode,{children:W.jsx(AD,{})}));
